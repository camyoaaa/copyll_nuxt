!function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(e,n,r){r=r.ngAnimateChildren,t.isString(r)&&0===r.length?n.data("$$ngAnimateChildren",!0):e.$watch(r,function(e){n.data("$$ngAnimateChildren",!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(e){return function(t){return e(function(){t()})}}]).config(["$provide","$animateProvider",function(r,i){function s(e){for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function o(e,t){return s(e)==s(t)}var u,a=t.noop,l=t.forEach,c=i.$$selectors,h=t.isArray,p=t.isString,d=t.isObject,v={running:!0};r.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,r,m,y,b,w,E,S,x){function T(e,t){var n=e.data("$$ngAnimateState")||{};return t&&(n.running=!0,n.structural=!0,e.data("$$ngAnimateState",n)),n.disabled||n.running&&n.structural}function N(e){var t,r=n.defer();return r.promise.$$cancelFn=function(){t&&t()},w.$$postDigest(function(){t=e(function(){r.resolve()})}),r.promise}function k(e){return d(e)?(e.tempClasses&&p(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function L(e,t,n){n=n||{};var r={};l(n,function(e,t){l(t.split(" "),function(t){r[t]=e})});var i=Object.create(null);l((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0});var s=[],o=[];return l(t&&t.classes||[],function(e,t){var n=i[t],u=r[t]||{};!1===e?(n||"addClass"==u.event)&&o.push(t):!0===e&&(n&&"removeClass"!=u.event||s.push(t))}),0<s.length+o.length&&[s.join(" "),o.join(" ")]}function A(e){if(e){var t=[],n={};e=e.substr(1).split("."),(m.transitions||m.animations)&&t.push(r.get(c[""]));for(var i=0;i<e.length;i++){var s=e[i],o=c[s];o&&!n[s]&&(t.push(r.get(o)),n[s]=!0)}return t}}function O(e,n,r,i){function s(e,t){var n=e[t],r=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||r?("leave"==t&&(r=n,n=null),S.push({event:t,fn:n}),b.push({event:t,fn:r}),!0):void 0}function o(t,n,s){var o=[];l(t,function(e){e.fn&&o.push(e)});var u=0;l(o,function(t,f){var l=function(){e:{if(n){if((n[f]||a)(),++u<o.length)break e;n=null}s()}};switch(t.event){case"setClass":n.push(t.fn(e,c,p,l,i));break;case"animate":n.push(t.fn(e,r,i.from,i.to,l));break;case"addClass":n.push(t.fn(e,c||r,l,i));break;case"removeClass":n.push(t.fn(e,p||r,l,i));break;default:n.push(t.fn(e,l,i))}}),n&&0===n.length&&s()}var u=e[0];if(u){i&&(i.to=i.to||{},i.from=i.from||{});var c,p;h(r)&&(c=r[0],p=r[1],c?p?r=c+" "+p:(r=c,n="addClass"):(r=p,n="removeClass"));var d="setClass"==n,v=d||"addClass"==n||"removeClass"==n||"animate"==n,m=e.attr("class")+" "+r;if(F(m)){var g=a,y=[],b=[],w=a,E=[],S=[],m=(" "+m).replace(/\s+/g,".");return l(A(m),function(e){!s(e,n)&&d&&(s(e,"addClass"),s(e,"removeClass"))}),{node:u,event:n,className:r,isClassBased:v,isSetClassOperation:d,applyStyles:function(){i&&e.css(t.extend(i.from||{},i.to||{}))},before:function(e){g=e,o(b,y,function(){g=a,e()})},after:function(e){w=e,o(S,E,function(){w=a,e()})},cancel:function(){y&&(l(y,function(e){(e||a)(!0)}),g(!0)),E&&(l(E,function(e){(e||a)(!0)}),w(!0))}}}}}function M(e,n,r,i,s,o,c,h){function p(t){var i="$animate:"+t;w&&w[i]&&0<w[i].length&&b(function(){r.triggerHandler(i,{event:e,className:n})})}function d(){p("before")}function v(){p("after")}function m(){m.hasBeenRun||(m.hasBeenRun=!0,o())}function g(){if(!g.hasBeenRun){y&&y.applyStyles(),g.hasBeenRun=!0,c&&c.tempClasses&&l(c.tempClasses,function(e){u.removeClass(r,e)});var t=r.data("$$ngAnimateState");t&&(y&&y.isClassBased?D(r,n):(b(function(){var t=r.data("$$ngAnimateState")||{};N==t.index&&D(r,n,e)}),r.data("$$ngAnimateState",t))),p("close"),h()}}var y=O(r,e,n,c);if(!y)return m(),d(),v(),g(),a;e=y.event,n=y.className;var w=t.element._data(y.node),w=w&&w.events;if(i||(i=s?s.parent():r.parent()),P(r,i))return m(),d(),v(),g(),a;i=r.data("$$ngAnimateState")||{};var E=i.active||{},S=i.totalActive||0,x=i.last;if(s=!1,S>0){if(S=[],y.isClassBased)"setClass"==x.event?(S.push(x),D(r,n)):E[n]&&(T=E[n],T.event==e?s=!0:(S.push(T),D(r,n)));else if("leave"==e&&E["ng-leave"])s=!0;else{for(var T in E)S.push(E[T]);i={},D(r,!0)}0<S.length&&l(S,function(e){e.cancel()})}if(!y.isClassBased||y.isSetClassOperation||"animate"==e||s||(s="addClass"==e==r.hasClass(n)),s)return m(),d(),v(),p("close"),h(),a;E=i.active||{},S=i.totalActive||0,"leave"==e&&r.one("$destroy",function(e){e=t.element(this);var n=e.data("$$ngAnimateState");n&&(n=n.active["ng-leave"])&&(n.cancel(),D(e,"ng-leave"))}),u.addClass(r,"ng-animate"),c&&c.tempClasses&&l(c.tempClasses,function(e){u.addClass(r,e)});var N=B++;return S++,E[n]=y,r.data("$$ngAnimateState",{last:y,active:E,index:N,totalActive:S}),d(),y.before(function(t){var i=r.data("$$ngAnimateState");t=t||!i||!i.active[n]||y.isClassBased&&i.active[n].event!=e,m(),!0===t?g():(v(),y.after(g))}),y.cancel}function _(e){(e=s(e))&&(e=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName("ng-animate"):e.querySelectorAll(".ng-animate"),l(e,function(e){e=t.element(e),(e=e.data("$$ngAnimateState"))&&e.active&&l(e.active,function(e){e.cancel()})}))}function D(e,t){if(o(e,y))v.disabled||(v.running=!1,v.structural=!1);else if(t){var n=e.data("$$ngAnimateState")||{},r=!0===t;!r&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(r||!n.totalActive)&&(u.removeClass(e,"ng-animate"),e.removeData("$$ngAnimateState"))}}function P(e,n){if(v.disabled)return!0;if(o(e,y))return v.running;var r,i,s;do{if(0===n.length)break;var u=o(n,y),a=u?v:n.data("$$ngAnimateState")||{};if(a.disabled)return!0;u&&(s=!0),!1!==r&&(u=n.data("$$ngAnimateChildren"),t.isDefined(u)&&(r=u)),i=i||a.running||a.last&&!a.last.isClassBased}while(n=n.parent());return!s||!r&&i}u=x,y.data("$$ngAnimateState",v);var H=w.$watch(function(){return S.totalPendingRequests},function(e){0===e&&(H(),w.$$postDigest(function(){w.$$postDigest(function(){v.running=!1})}))}),B=0,j=i.classNameFilter(),F=j?function(e){return j.test(e)}:function(){return!0};return{animate:function(e,n,r,i,o){return i=i||"ng-inline-animate",o=k(o)||{},o.from=r?n:null,o.to=r?r:n,N(function(n){return M("animate",i,t.element(s(e)),null,null,a,o,n)})},enter:function(n,r,i,o){return o=k(o),n=t.element(n),r=r&&t.element(r),i=i&&t.element(i),T(n,!0),e.enter(n,r,i),N(function(e){return M("enter","ng-enter",t.element(s(n)),r,i,a,o,e)})},leave:function(n,r){return r=k(r),n=t.element(n),_(n),T(n,!0),N(function(i){return M("leave","ng-leave",t.element(s(n)),null,null,function(){e.leave(n)},r,i)})},move:function(n,r,i,o){return o=k(o),n=t.element(n),r=r&&t.element(r),i=i&&t.element(i),_(n),T(n,!0),e.move(n,r,i),N(function(e){return M("move","ng-move",t.element(s(n)),r,i,a,o,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,r,i,o){if(o=k(o),n=t.element(n),n=t.element(s(n)),T(n))return e.$$setClassImmediately(n,r,i,o);var u,a=n.data("$$animateClasses"),c=!!a;return a||(a={classes:{}}),u=a.classes,r=h(r)?r:r.split(" "),l(r,function(e){e&&e.length&&(u[e]=!0)}),i=h(i)?i:i.split(" "),l(i,function(e){e&&e.length&&(u[e]=!1)}),c?(o&&a.options&&(a.options=t.extend(a.options||{},o)),a.promise):(n.data("$$animateClasses",a={classes:u,options:o}),a.promise=N(function(t){var r=n.parent(),i=s(n),o=i.parentNode;if(o&&!o.$$NG_REMOVED&&!i.$$NG_REMOVED){i=n.data("$$animateClasses"),n.removeData("$$animateClasses");var o=n.data("$$ngAnimateState")||{},u=L(n,i,o.active);return u?M("setClass",u,n,r,null,function(){u[0]&&e.$$addClassImmediately(n,u[0]),u[1]&&e.$$removeClassImmediately(n,u[1])},i.options,t):t()}t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)D(t);else{var n=t.data("$$ngAnimateState")||{};n.disabled=!0,t.data("$$ngAnimateState",n)}break;case 1:v.disabled=!e;break;default:e=!v.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,i,o,c){function d(){H||(H=c(function(){F=[],H=null,B={}}))}function v(e,t){H&&H(),F.push(t),H=c(function(){l(F,function(e){e()}),F=[],H=null,B={}})}function m(e,n){var r=s(e);e=t.element(r),R.push(e),r=Date.now()+n,q>=r||(o.cancel(I),q=r,I=o(function(){y(R),R=[]},n,!1))}function y(e){l(e,function(e){(e=e.data("$$ngAnimateCSS3Data"))&&l(e.closeAnimationFns,function(e){e()})})}function b(e,t){var n=t?B[t]:null;if(!n){var i=0,s=0,o=0,u=0;l(e,function(e){if(1==e.nodeType){e=r.getComputedStyle(e)||{},i=Math.max(w(e[O+"Duration"]),i),s=Math.max(w(e[O+"Delay"]),s),u=Math.max(w(e[_+"Delay"]),u);var t=w(e[_+"Duration"]);t>0&&(t*=parseInt(e[_+"IterationCount"],10)||1),o=Math.max(t,o)}}),n={total:0,transitionDelay:s,transitionDuration:i,animationDelay:u,animationDuration:o},t&&(B[t]=n)}return n}function w(e){var t=0;return e=p(e)?e.split(/\s*,\s*/):[],l(e,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function E(e,t,n,r){e=0<=["ng-enter","ng-leave","ng-move"].indexOf(n);var i,o=t.parent(),a=o.data("$$ngAnimateKey");a||(o.data("$$ngAnimateKey",++j),a=j),i=a+"-"+s(t).getAttribute("class");var o=i+" "+n,a=B[o]?++B[o].total:0,f={};if(a>0){var l=n+"-stagger",f=i+" "+l;(i=!B[f])&&u.addClass(t,l),f=b(t,f),i&&u.removeClass(t,l)}u.addClass(t,n);var l=t.data("$$ngAnimateCSS3Data")||{},c=b(t,o);return i=c.transitionDuration,c=c.animationDuration,e&&0===i&&0===c?(u.removeClass(t,n),!1):(n=r||e&&i>0,e=c>0&&0<f.animationDelay&&0===f.animationDuration,t.data("$$ngAnimateCSS3Data",{stagger:f,cacheKey:o,running:l.running||0,itemIndex:a,blockTransition:n,closeAnimationFns:l.closeAnimationFns||[]}),o=s(t),n&&(x(o,!0),r&&t.css(r)),e&&(o.style[_+"PlayState"]="paused"),!0)}function S(e,t,n,r,i){function a(){t.off(A,f),u.removeClass(t,h),u.removeClass(t,p),C&&o.cancel(C),L(t,n);var e,r=s(t);for(e in d)r.style.removeProperty(d[e])}function f(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-k,0)>=N&&t>=T&&r()}var c=s(t);if(e=t.data("$$ngAnimateCSS3Data"),-1!=c.getAttribute("class").indexOf(n)&&e){var h="",p="";l(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;h+=n+"-active",p+=n+"-pending"});var d=[],v=e.itemIndex,y=e.stagger,w=0;if(v>0){w=0,0<y.transitionDelay&&0===y.transitionDuration&&(w=y.transitionDelay*v);var E=0;0<y.animationDelay&&0===y.animationDuration&&(E=y.animationDelay*v,d.push(P+"animation-play-state")),w=Math.round(100*Math.max(w,E))/100}w||(u.addClass(t,h),e.blockTransition&&x(c,!1));var S=b(t,e.cacheKey+" "+h),T=Math.max(S.transitionDuration,S.animationDuration);if(0!==T){!w&&i&&(S.transitionDuration||(t.css("transition",S.animationDuration+"s linear all"),d.push("transition")),t.css(i));var v=Math.max(S.transitionDelay,S.animationDelay),N=1e3*v;0<d.length&&(y=c.getAttribute("style")||"",";"!==y.charAt(y.length-1)&&(y+=";"),c.setAttribute("style",y+" "));var C,k=Date.now(),A=D+" "+M,v=1e3*(w+1.5*(v+T));return w>0&&(u.addClass(t,p),C=o(function(){C=null,0<S.transitionDuration&&x(c,!1),0<S.animationDuration&&(c.style[_+"PlayState"]=""),u.addClass(t,h),u.removeClass(t,p),i&&(0===S.transitionDuration&&t.css("transition",S.animationDuration+"s linear all"),t.css(i),d.push("transition"))},1e3*w,!1)),t.on(A,f),e.closeAnimationFns.push(function(){a(),r()}),e.running++,m(t,v),a}u.removeClass(t,h),L(t,n),r()}else r()}function x(e,t){e.style[O+"Property"]=t?"none":""}function T(e,t,n,r){return E(e,t,n,r)?function(e){e&&L(t,n)}:void 0}function C(e,t,n,r,i){return t.data("$$ngAnimateCSS3Data")?S(e,t,n,r,i):(L(t,n),void r())}function k(e,t,n,r,i){var s=T(e,t,n,i.from);if(s){var o=s;return v(t,function(){o=C(e,t,n,r,i.to)}),function(e){(o||a)(e)}}d(),r()}function L(e,t){u.removeClass(e,t);var n=e.data("$$ngAnimateCSS3Data");n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData("$$ngAnimateCSS3Data"))}function A(e,t){var n="";return e=h(e)?e:e.split(/\s+/),l(e,function(e,r){e&&0<e.length&&(n+=(r>0?" ":"")+e+t)}),n}var O,M,_,D,P="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(P="-webkit-",O="WebkitTransition",M="webkitTransitionEnd transitionend"):(O="transition",M="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(P="-webkit-",_="WebkitAnimation",D="webkitAnimationEnd animationend"):(_="animation",D="animationend");var H,B={},j=0,F=[],I=null,q=0,R=[];return{animate:function(e,t,n,r,i,s){return s=s||{},s.from=n,s.to=r,k("animate",e,t,i,s)},enter:function(e,t,n){return n=n||{},k("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},k("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},k("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,r,i){return i=i||{},t=A(n,"-remove")+" "+A(t,"-add"),(i=T("setClass",e,t,i.from))?(v(e,r),i):(d(),void r())},beforeAddClass:function(e,t,n,r){return r=r||{},(t=T("addClass",e,A(t,"-add"),r.from))?(v(e,n),t):(d(),void n())},beforeRemoveClass:function(e,t,n,r){return r=r||{},(t=T("removeClass",e,A(t,"-remove"),r.from))?(v(e,n),t):(d(),void n())},setClass:function(e,t,n,r,i){return i=i||{},n=A(n,"-remove"),t=A(t,"-add"),C("setClass",e,n+" "+t,r,i.to)},addClass:function(e,t,n,r){return r=r||{},C("addClass",e,A(t,"-add"),n,r.to)},removeClass:function(e,t,n,r){return r=r||{},C("removeClass",e,A(t,"-remove"),n,r.to)}}}])}])}(window,window.angular),!function(e,t){"use strict";function n(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,s,o,u,a){function f(){v&&(r.cancel(v),v=null),c&&(c.$destroy(),c=null),p&&(v=r.leave(p),v.then(function(){v=null}),p=null)}function l(){var o=e.current&&e.current.locals;if(t.isDefined(o&&o.$template)){var o=i.$new(),u=e.current;p=a(o,function(e){r.enter(e,null,p||s).then(function(){!t.isDefined(m)||m&&!i.$eval(m)||n()}),f()}),c=u.scope=o,c.$emit("$viewContentLoaded"),c.$eval(y)}else f()}var c,p,v,m=o.autoscroll,y=o.onload||"";i.$on("$routeChangeSuccess",l),l()}}}function r(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var s=n.current,o=s.locals;i.html(o.$template);var u=e(i.contents());s.controller&&(o.$scope=r,o=t(s.controller,o),s.controllerAs&&(r[s.controllerAs]=o),i.data("$ngControllerController",o),i.children().data("$ngControllerController",o)),u(r)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){return e="?"===r?r:null,r="*"===r?r:null,i.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(r&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var s=t.copy(i);if(t.isUndefined(s.reloadOnSearch)&&(s.reloadOnSearch=!0),t.isUndefined(s.caseInsensitiveMatch)&&(s.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(s,e&&n(e,s)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[o]=t.extend({redirectTo:e},n(o,s))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,s,o,u,a,f,l){function c(e){var r=w.current;(y=(m=p())&&r&&m.$$route===r.$$route&&t.equals(m.pathParams,r.pathParams)&&!m.reloadOnSearch&&!b)||!r&&!m||n.$broadcast("$routeChangeStart",m,r).defaultPrevented&&e&&e.preventDefault()}function h(){var e=w.current,r=m;y?(e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(r||e)&&(b=!1,(w.current=r)&&r.redirectTo&&(t.isString(r.redirectTo)?s.path(v(r.redirectTo,r.params)).search(r.params).replace():s.url(r.redirectTo(r.pathParams,s.path(),s.search())).replace()),u.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?a.get(e):a.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),n=l.getTrustedResourceUrl(n),t.isDefined(n)&&(r.loadedTemplateUrl=n,e=f(n))),t.isDefined(e)&&(i.$template=e),u.all(i)}}).then(function(i){r==w.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==w.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function p(){var n,i;return t.forEach(r,function(r){var o;if(o=!i){var u=s.path();o=r.keys;var a={};if(r.regexp)if(u=r.regexp.exec(u)){for(var f=1,l=u.length;l>f;++f){var c=o[f-1],h=u[f];c&&h&&(a[c.name]=h)}o=a}else o=null;else o=null;o=n=o}o&&(i=e(r,{params:t.extend({},s.search(),n),pathParams:n}),i.$$route=r)}),i||r[null]&&e(r[null],{params:{},pathParams:{}})}function v(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),s=i[1];r.push(n[s]),r.push(i[2]||""),delete n[s]}}),r.join("")}var m,y,b=!1,w={routes:r,reload:function(){b=!0,n.$evalAsync(function(){c(),h()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw i("norout");var n={},r=this;t.forEach(Object.keys(e),function(t){r.current.pathParams[t]||(n[t]=e[t])}),e=t.extend({},this.current.params,e),s.path(v(this.current.$$route.originalPath,e)),s.search(t.extend({},s.search(),n))}};return n.$on("$locationChangeStart",c),n.$on("$locationChangeSuccess",h),w}]});var i=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",n),e.directive("ngView",r),n.$inject=["$route","$anchorScroll","$animate"],r.$inject=["$compile","$controller","$route"]}(window,window.angular),!function(e,t,n){"use strict";function r(e){var n=[];return a(n,t.noop).chars(e),n.join("")}function i(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function s(e,n){function r(e,r,s,u){if(r=t.lowercase(r),S[r])for(;y.last()&&x[y.last()];)i("",y.last());E[r]&&y.last()==r&&i("",r),(u=w[r]||!!u)||y.push(r);var a={};s.replace(h,function(e,t,n,r,i){a[t]=o(n||r||i||"")}),n.start&&n.start(r,a,u)}function i(e,r){var i,s=0;if(r=t.lowercase(r))for(s=y.length-1;s>=0&&y[s]!=r;s--);if(s>=0){for(i=y.length-1;i>=s;i--)n.end&&n.end(y[i]);y.length=s}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var s,u,a,y=[],b=e;for(y.last=function(){return y[y.length-1]};e;){if(a="",u=!0,y.last()&&T[y.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(g,"$1"),n.chars&&n.chars(o(t)),""}),i("",y.last())):(0===e.indexOf("<!--")?(s=e.indexOf("--",4),s>=0&&e.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),u=!1)):m.test(e)?(s=e.match(m))&&(e=e.replace(s[0],""),u=!1):d.test(e)?(s=e.match(c))&&(e=e.substring(s[0].length),s[0].replace(c,i),u=!1):p.test(e)&&((s=e.match(l))?(s[4]&&(e=e.substring(s[0].length),s[0].replace(l,r)),u=!1):(a+="<",e=e.substring(1))),u&&(s=e.indexOf("<"),a+=0>s?e:e.substring(0,s),e=0>s?"":e.substring(s),n.chars&&n.chars(o(a)))),e==b)throw f("badparse",e);b=e}i()}function o(e){if(!e)return"";var t=A.exec(e);e=t[1];var n=t[3];return(t=t[2])&&(L.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in L?L.textContent:L.innerText),e+t+n}function u(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,s,o){e=t.lowercase(e),!r&&T[e]&&(r=e),r||!0!==N[e]||(i("<"),i(e),t.forEach(s,function(r,s){var o=t.lowercase(s),a="img"===e&&"src"===o||"background"===o;!0!==k[o]||!0===C[o]&&!n(r,a)||(i(" "),i(s),i('="'),i(u(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||!0!==N[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(u(e))}}}var f=t.$$minErr("$sanitize"),l=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,c=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,d=/^<\//,v=/\x3c!--(.*?)--\x3e/g,m=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]\x3e/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=i("area,br,col,hr,img,wbr");e=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=i("rp,rt");var E=t.extend({},n,e),S=t.extend({},e,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=t.extend({},n,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var T=i("script,style"),N=t.extend({},w,S,x,E,e),C=i("background,cite,href,longdesc,src,usemap,xlink:href");e=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),n=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var k=t.extend({},C,n,e),L=document.createElement("pre"),A=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return s(t,a(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,i=/^mailto:/;return function(s,o){function u(e){e&&p.push(r(e))}function a(e,n){p.push("<a "),t.isDefined(o)&&p.push('target="',o,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),u(n),p.push("</a>")}if(!s)return s;for(var f,l,c,h=s,p=[];f=h.match(n);)l=f[0],f[2]||f[4]||(l=(f[3]?"http://":"mailto:")+l),c=f.index,u(h.substr(0,c)),a(l,f[0].replace(i,"")),h=h.substring(c+f[0].length);return u(h),e(p.join(""))}}])}(window,window.angular),!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof module&&module.exports){var n;try{n=require("jquery")}catch(r){n=null}module.exports=t(n)}else e.Slider=t(e.jQuery)}(this,function(e){var t;return function(e){"use strict";function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,n){e.fn[t]=function(i){if("string"==typeof i){for(var o=r.call(arguments,1),u=0,l=this.length;l>u;u++){var h=this[u],p=e.data(h,t);if(p)if(e.isFunction(p[i])&&"_"!==i.charAt(0)){var v=p[i].apply(p,o);if(void 0!==v&&v!==p)return v}else s("no such method '"+i+"' for "+t+" instance");else s("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}var m=this.map(function(){var r=e.data(this,t);return r?(r.option(i),r._init()):(r=new n(this,i),e.data(this,t,r)),e(this)});return!m||m.length>1?m:m[0]}}if(e){var s="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),i(e,t)},e.bridget}}var r=Array.prototype.slice;n(e)}(e),function(e){function n(t,n){function r(e,t){var n="data-slider-"+t,r=e.getAttribute(n);try{return JSON.parse(r)}catch(i){return r}}"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t);var i,s,o,u=this.element.style.width,f=!1,l=this.element.parentNode;if(this.sliderElem)f=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var c=document.createElement("div");c.className="slider-track",i=document.createElement("div"),i.className="slider-selection",s=document.createElement("div"),s.className="slider-handle min-slider-handle",o=document.createElement("div"),o.className="slider-handle max-slider-handle",c.appendChild(i),c.appendChild(s),c.appendChild(o);var h=function(e){var t=document.createElement("div");t.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",e.appendChild(t),e.appendChild(n)},p=document.createElement("div");p.className="tooltip tooltip-main",h(p);var d=document.createElement("div");d.className="tooltip tooltip-min",h(d);var v=document.createElement("div");v.className="tooltip tooltip-max",h(v),this.sliderElem.appendChild(c),this.sliderElem.appendChild(p),this.sliderElem.appendChild(d),this.sliderElem.appendChild(v),l.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}e&&(this.$element=e(this.element),this.$sliderElem=e(this.sliderElem)),n=n?n:{};for(var m=Object.keys(this.defaultOptions),g=0;g<m.length;g++){var y=m[g],b=n[y];b="undefined"!=typeof b?b:r(this.element,y),b=null!==b?b:this.defaultOptions[y],this.options||(this.options={}),this.options[y]=b}this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),f===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(e){this._removeProperty(this.trackSelection,e)},this),[this.handle1,this.handle2].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top"),this._removeProperty(e,"margin-left"),this._removeProperty(e,"margin-top"),this._removeClass(e,"right"),this._removeClass(e,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=u,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),this.options.value instanceof Array?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackSelection=i||this.trackSelection,"none"===this.options.selection&&this._addClass(this.trackSelection,"hide"),this.handle1=s||this.handle1,this.handle2=o||this.handle2,f===!0&&(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"));var w=["round","triangle","custom"],E=-1!==w.indexOf(this.options.handle);E&&(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle)),this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,0),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.touchCapable?(this.mousedown=this._mousedown.bind(this),this.sliderElem.addEventListener("touchstart",this.mousedown,!1)):(this.mousedown=this._mousedown.bind(this),this.sliderElem.addEventListener("mousedown",this.mousedown,!1)),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var r={formatInvalidInputErrorMsg:function(e){return"Invalid input value '"+e+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"};if(t=function(e,t){return n.call(this,e,t),this},t.prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(e){return e instanceof Array?e[0]+" : "+e[1]:e},natural_arrow_keys:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(e,t){e||(e=0),this.options.value=this._validateInputValue(e);var n=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=n(this.options.value[0]),this.options.value[1]=n(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=n(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),this.options.value[1]="after"===this.options.selection?this.options.max:this.options.min),this.diff=this.options.max-this.options.min,this.percentage=this.diff>0?[100*(this.options.value[0]-this.options.min)/this.diff,100*(this.options.value[1]-this.options.min)/this.diff,100*this.options.step/this.diff]:[0,0,100],this._layout();var r=this.options.range?this.options.value:this.options.value[0];return this._setDataVal(r),t===!0&&this._trigger("slide",r),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),e&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(t,n){return e?(this.$element.on(t,n),this.$sliderElem.on(t,n)):this._bindNonQueryEventHandler(t,n),this},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),e&&e.data(this.element,"slider",this),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var n=e[t];this.eventToCallbackMap[n]=null}},_showTooltip:function(){this.options.tooltip_split===!1?this._addClass(this.tooltip,"in"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in")),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var e;if(e=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=e[0]+"%",this.handle2.style[this.stylePos]=e[1]+"%","vertical"===this.options.orientation)this.trackSelection.style.top=Math.min(e[0],e[1])+"%",this.trackSelection.style.height=Math.abs(e[0]-e[1])+"%";else{this.trackSelection.style.left=Math.min(e[0],e[1])+"%",this.trackSelection.style.width=Math.abs(e[0]-e[1])+"%";var t=this.tooltip_min.getBoundingClientRect(),n=this.tooltip_max.getBoundingClientRect();t.right>n.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="-30px")}var r;if(this.options.range){r=this.options.formatter(this.options.value),this._setText(this.tooltipInner,r),this.tooltip.style[this.stylePos]=(e[1]+e[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var i=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,i);var s=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,s),this.tooltip_min.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=e[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else r=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,r),this.tooltip.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this.options.enabled)return!1;this._triggerFocusOnHandle(),this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var t=this._getPercentage(e);if(this.options.range){var n=Math.abs(this.percentage[0]-t),r=Math.abs(this.percentage[1]-t);this.dragged=r>n?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-t:t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var i=this._calculateValue();return this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i),this._pauseEvent(e),!0},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this.options.enabled)return!1;var n;switch(t.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var r="vertical"===this.options.orientation&&!this.options.reversed,i="horizontal"===this.options.orientation&&this.options.reversed;(r||i)&&(n=-1*n)}var s=n*this.percentage[2],o=this.percentage[e]+s;o>100?o=100:0>o&&(o=0),this.dragged=e,this._adjustPercentageForRangeSliders(o),this.percentage[this.dragged]=o,this._layout();var u=this._calculateValue();return this._trigger("slideStart",u),this._setDataVal(u),this.setValue(u,!0),this._trigger("slideStop",u),this._setDataVal(u),this._pauseEvent(t),!1}},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){if(!this.options.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this.percentage[this.dragged]=this.options.reversed?100-t:t,this._layout();var n=this._calculateValue();return this.setValue(n,!0),!1},_adjustPercentageForRangeSliders:function(e){this.options.range&&(0===this.dragged&&this.percentage[1]<e?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>e&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this.inDrag=!1,this.over===!1&&this._hideTooltip();var e=this._calculateValue();return this._layout(),this._setDataVal(e),this._trigger("slideStop",e),!1},_calculateValue:function(){var e;return this.options.range?(e=[this.options.min,this.options.max],0!==this.percentage[0]&&(e[0]=Math.max(this.options.min,this.options.min+Math.round(this.diff*this.percentage[0]/100/this.options.step)*this.options.step),e[0]=this._applyPrecision(e[0])),100!==this.percentage[1]&&(e[1]=Math.min(this.options.max,this.options.min+Math.round(this.diff*this.percentage[1]/100/this.options.step)*this.options.step),e[1]=this._applyPrecision(e[1])),this.options.value=e):(e=this.options.min+Math.round(this.diff*this.percentage[0]/100/this.options.step)*this.options.step,e<this.options.min?e=this.options.min:e>this.options.max&&(e=this.options.max),e=parseFloat(e),e=this._applyPrecision(e),this.options.value=[e,this.options.value[1]]),e},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){var n=e.toFixed(t);return parseFloat(n)},_getPercentage:function(e){!this.touchCapable||"touchstart"!==e.type&&"touchmove"!==e.type||(e=e.touches[0]);var t=100*(e[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},_validateInputValue:function(e){if("number"==typeof e)return e;if(e instanceof Array)return this._validateArray(e),e;throw new Error(r.formatInvalidInputErrorMsg(e))},_validateArray:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("number"!=typeof n)throw new Error(r.formatInvalidInputErrorMsg(n))}},_setDataVal:function(e){var t="value: '"+e+"'";this.element.setAttribute("data",t),this.element.setAttribute("value",e)},_trigger:function(t,n){n=n||0===n?n:void 0;var r=this.eventToCallbackMap[t];if(r&&r.length)for(var i=0;i<r.length;i++){var s=r[i];s(n)}e&&this._triggerJQueryEvent(t,n)},_triggerJQueryEvent:function(e,t){var n={type:e,value:t};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){"undefined"!=typeof e.innerText?e.innerText=t:"undefined"!=typeof e.textContent&&(e.textContent=t)},_removeClass:function(e,t){for(var n=t.split(" "),r=e.className,i=0;i<n.length;i++){var s=n[i],o=new RegExp("(?:\\s|^)"+s+"(?:\\s|$)");r=r.replace(o," ")}e.className=r.trim()},_addClass:function(e,t){for(var n=t.split(" "),r=e.className,i=0;i<n.length;i++){var s=n[i],o=new RegExp("(?:\\s|^)"+s+"(?:\\s|$)"),u=o.test(r);u||(r+=" "+s)}e.className=r.trim()},_offset:function(e){var t=0,n=0;if(e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return{left:t,top:n}},_css:function(t,n,r){if(e)e.style(t,n,r);else{var i=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()});t.style[i]=r}}},e){var i=e.fn.slider?"bootstrapSlider":"slider";e.bridget(i,t)}}(e),t}),!function(){"use strict";angular.module("angular-loading-bar",["cfp/loadingBarInterceptor"]),angular.module("chieffancypants/loadingBar",["cfp/loadingBarInterceptor"]),angular.module("cfp/loadingBarInterceptor",["cfp/loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(t,n,r,i,s){function o(){r.cancel(f),s.complete(),c=0,l=0}function u(t){var r,i=n.get("$http"),s=e.defaults;!t.cache&&!s.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(r=angular.isObject(t.cache)?t.cache:angular.isObject(s.cache)?s.cache:i);var o=void 0!==r?void 0!==r.get(t.url):!1;return void 0!==t.cached&&o!==t.cached?t.cached:(t.cached=o,o)}var f,l=0,c=0,h=s.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||u(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(f=r(function(){s.start()},h)),l++,s.set(c/l)),e},response:function(e){return e.config.ignoreLoadingBar||u(e.config)||(c++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),c>=l?o():s.set(c/l)),e},responseError:function(e){return e.config.ignoreLoadingBar||u(e.config)||(c++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),c>=l?o():s.set(c/l)),t.reject(e)}}}];e.interceptors.push(t)}]),angular.module("cfp/loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,r){function i(){l||(l=e.get("$animate"));var i=t.find(p).eq(0);n.cancel(h),g||(r.$broadcast("cfpLoadingBar:started"),g=!0,w&&l.enter(d,i),b&&l.enter(m,i),s(E))}function s(e){if(g){var t=100*e+"%";v.css("width",t),y=e,n.cancel(c),c=n(function(){o()},250)}}function o(){if(!(u()>=1)){var e=0,t=u();e=t>=0&&.25>t?(3*Math.random()+3)/100:t>=.25&&.65>t?3*Math.random()/100:t>=.65&&.9>t?2*Math.random()/100:t>=.9&&.99>t?.005:0;var n=u()+e;s(n)}}function u(){return y}function a(){y=0,g=!1}function f(){l||(l=e.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),s(1),n.cancel(h),h=n(function(){var e=l.leave(d,a);e&&e.then&&e.then(a),l.leave(m)},500)}var l,c,h,p=this.parentSelector,d=angular.element(this.loadingBarTemplate),v=d.find("div").eq(0),m=angular.element(this.spinnerTemplate),g=!1,y=0,b=this.includeSpinner,w=this.includeBar,E=this.startSize;return{start:i,set:s,status:u,inc:o,complete:f,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),!function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1}),angular.module("ui/select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,placeholder:"",refreshDelay:1e3,closeOnSelect:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).service("RepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,r){var i=e+" in "+(r?"$group.items":t);return n&&(i+=" track by "+n),i}}]).controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","RepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,r,i,s,o,u){function a(){(v.resetSearchInput||void 0===v.resetSearchInput&&u.resetSearchInput)&&(v.search=m,v.selected&&v.items.length&&!v.multiple&&(v.activeIndex=v.items.indexOf(v.selected)))}function f(t){var n=!0;switch(t){case e.DOWN:!v.open&&v.multiple?v.activate(!1,!0):v.activeIndex<v.items.length-1&&v.activeIndex++;break;case e.UP:!v.open&&v.multiple?v.activate(!1,!0):(v.activeIndex>0||0===v.search.length&&v.tagging.isActivated)&&v.activeIndex--;break;case e.TAB:(!v.multiple||v.open)&&v.select(v.items[v.activeIndex],!0);break;case e.ENTER:v.open?v.select(v.items[v.activeIndex]):v.activate(!1,!0);break;case e.ESC:v.close();break;default:n=!1}return n}function l(t){function n(){switch(t){case e.LEFT:return~v.activeMatchIndex?f:o;case e.RIGHT:return~v.activeMatchIndex&&u!==o?a:(v.activate(),!1);case e.BACKSPACE:return~v.activeMatchIndex?(v.removeChoice(u),f):o;case e.DELETE:return~v.activeMatchIndex?(v.removeChoice(v.activeMatchIndex),u):!1}}var r=p(g[0]),i=v.selected.length,s=0,o=i-1,u=v.activeMatchIndex,a=v.activeMatchIndex+1,f=v.activeMatchIndex-1,l=u;return r>0||v.search.length&&t==e.RIGHT?!1:(v.close(),l=n(),v.activeMatchIndex=v.selected.length&&l!==!1?Math.min(o,Math.max(s,l)):-1,!0)}function c(e){if(void 0===e||void 0===v.search)return!1;var t=e.filter(function(e){return void 0===v.search.toUpperCase()?!1:e.toUpperCase()===v.search.toUpperCase()}).length>0;return t}function h(e,t){for(var n=angular.copy(e),r=-1,i=0;i<n.length;i++)if(void 0===v.tagging.fct)n[i]+" "+v.taggingLabel===t&&(r=i);else{var s=n[i];s.isTag=!0,angular.equals(s,t)&&(r=i)}return r}function p(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function d(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);var r=t[v.activeIndex],i=r.offsetTop+r.clientHeight-e[0].scrollTop,s=e[0].offsetHeight;i>s?e[0].scrollTop+=i-s:i<r.clientHeight&&(v.isGrouped&&0===v.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-i)}var v=this,m="";v.placeholder=void 0,v.search=m,v.activeIndex=0,v.activeMatchIndex=-1,v.items=[],v.selected=void 0,v.open=!1,v.focus=!1,v.focusser=void 0,v.disabled=void 0,v.searchEnabled=void 0,v.resetSearchInput=void 0,v.refreshDelay=void 0,v.multiple=!1,v.disableChoiceExpression=void 0,v.tagging={isActivated:!1,fct:void 0},v.taggingTokens={isActivated:!1,tokens:void 0},v.lockChoiceExpression=void 0,v.closeOnSelect=!0,v.clickTriggeredSelect=!1,v.$filter=i,v.isEmpty=function(){return angular.isUndefined(v.selected)||null===v.selected||""===v.selected};var g=n.querySelectorAll("input.ui-select-search");if(1!==g.length)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",g.length);v.activate=function(e,t){v.disabled||v.open||(t||a(),v.focusser.prop("disabled",!0),v.open=!0,v.activeMatchIndex=-1,v.activeIndex=v.activeIndex>=v.items.length?0:v.activeIndex,-1===v.activeIndex&&v.taggingLabel!==!1&&(v.activeIndex=0),r(function(){v.search=e||v.search,g[0].focus()}))},v.findGroupByName=function(e){return v.groups&&v.groups.filter(function(t){return t.name===e})[0]},v.parseRepeatAttr=function(e,n){function r(e){v.groups=[],angular.forEach(e,function(e){var r=t.$eval(n),i=angular.isFunction(r)?r(e):e[r],s=v.findGroupByName(i);s?s.items.push(e):v.groups.push({name:i,items:[e]})}),v.items=[],v.groups.forEach(function(e){v.items=v.items.concat(e.items)})}function i(e){v.items=e}var u=n?r:i;v.parserResult=s.parse(e),v.isGrouped=!!n,v.itemProperty=v.parserResult.itemName,t.$watchCollection(v.parserResult.source,function(e){if(void 0===e||null===e)v.items=[];else{if(!angular.isArray(e))throw o("items","Expected an array but got '{0}'.",e);if(v.multiple){var t=e.filter(function(e){return v.selected.indexOf(e)<0});u(t)}else u(e);v.ngModel.$modelValue=null}}),v.multiple&&t.$watchCollection("$select.selected",function(e){var n=v.parserResult.source(t);if(e.length){if(void 0!==n){var r=n.filter(function(t){return e.indexOf(t)<0});u(r)}}else u(n);v.sizeSearchInput()})};var y;v.refresh=function(e){void 0!==e&&(y&&r.cancel(y),y=r(function(){t.$eval(e)},v.refreshDelay))},v.setActiveItem=function(e){v.activeIndex=v.items.indexOf(e)},v.isActive=function(e){if(!v.open)return!1;var t=v.items.indexOf(e[v.itemProperty]),n=t===v.activeIndex;return!n||0>t&&v.taggingLabel!==!1||0>t&&v.taggingLabel===!1?!1:(n&&!angular.isUndefined(v.onHighlightCallback)&&e.$eval(v.onHighlightCallback),n)},v.isDisabled=function(e){if(v.open){var t,n=v.items.indexOf(e[v.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(v.disableChoiceExpression)&&(t=v.items[n],r=!!e.$eval(v.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},v.select=function(e,n,r){if(void 0===e||!e._uiSelectChoiceDisabled){if(!v.items&&!v.search)return;if(!e||!e._uiSelectChoiceDisabled){if(v.tagging.isActivated){if(v.taggingLabel===!1)if(v.activeIndex<0){if(e=void 0!==v.tagging.fct?v.tagging.fct(v.search):v.search,angular.equals(v.items[0],e))return}else e=v.items[v.activeIndex];else if(0===v.activeIndex){if(void 0===e)return;void 0!==v.tagging.fct&&"string"==typeof e?e=v.tagging.fct(v.search):"string"==typeof e&&(e=e.replace(v.taggingLabel,""))}if(v.selected&&v.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void v.close(n)}var i={};i[v.parserResult.itemName]=e,v.multiple?(v.selected.push(e),v.sizeSearchInput()):v.selected=e,v.onSelectCallback(t,{$item:e,$model:v.parserResult.modelMapper(t,i)}),(!v.multiple||v.closeOnSelect)&&v.close(n),r&&"click"===r.type&&(v.clickTriggeredSelect=!0)}}},v.close=function(e){v.open&&(a(),v.open=!1,v.multiple||r(function(){v.focusser.prop("disabled",!1),e||v.focusser[0].focus()},0,!1))},v.toggle=function(e){v.open?(v.close(),e.preventDefault(),e.stopPropagation()):v.activate()},v.isLocked=function(e,t){var n,r=v.selected[t];return r&&!angular.isUndefined(v.lockChoiceExpression)&&(n=!!e.$eval(v.lockChoiceExpression),r._uiSelectChoiceLocked=n),n},v.removeChoice=function(e){var n=v.selected[e];if(!n._uiSelectChoiceLocked){var r={};r[v.parserResult.itemName]=n,v.selected.splice(e,1),v.activeMatchIndex=-1,v.sizeSearchInput(),v.onRemoveCallback(t,{$item:n,$model:v.parserResult.modelMapper(t,r)})}},v.getPlaceholder=function(){return v.multiple&&v.selected.length?void 0:v.placeholder};var b;v.sizeSearchInput=function(){var e=g[0],n=g.parent().parent()[0];g.css("width","10px");var i=function(){var t=n.clientWidth-e.offsetLeft-10;50>t&&(t=n.clientWidth),g.css("width",t+"px")};r(function(){0!==n.clientWidth||b?b||i():b=t.$watch(function(){return n.clientWidth},function(e){0!==e&&(i(),b(),b=null)})},0,!1)},g.on("keydown",function(n){var i=n.which;t.$apply(function(){var t=!1,s=!1;if(v.multiple&&e.isHorizontalMovement(i)&&(t=l(i)),!t&&(v.items.length>0||v.tagging.isActivated)&&(t=f(i),v.taggingTokens.isActivated)){for(var o=0;o<v.taggingTokens.tokens.length;o++)v.taggingTokens.tokens[o]===e.MAP[n.keyCode]&&v.search.length>0&&(s=!0);s&&r(function(){g.triggerHandler("tagged");var t=v.search.replace(e.MAP[n.keyCode],"").trim();v.tagging.fct&&(t=v.tagging.fct(t)),v.select(t,!0)})}t&&i!=e.TAB&&(n.preventDefault(),n.stopPropagation())}),e.isVerticalMovement(i)&&v.items.length>0&&d()}),g.on("keyup",function(n){if(e.isVerticalMovement(n.which)||t.$evalAsync(function(){v.activeIndex=v.taggingLabel===!1?-1:0}),v.tagging.isActivated&&v.search.length>0){if(n.which===e.TAB||e.isControl(n)||e.isFunctionKey(n)||n.which===e.ESC||e.isVerticalMovement(n.which))return;if(v.activeIndex=v.taggingLabel===!1?-1:0,v.taggingLabel===!1)return;var r,i,s,o,u=angular.copy(v.items),a=angular.copy(v.items),f=!1,l=-1;if(void 0!==v.tagging.fct){if(s=v.$filter("filter")(u,{isTag:!0}),s.length>0&&(o=s[0]),u.length>0&&o&&(f=!0,u=u.slice(1,u.length),a=a.slice(1,a.length)),r=v.tagging.fct(v.search),r.isTag=!0,a.filter(function(e){return angular.equals(e,v.tagging.fct(v.search))}).length>0)return}else{if(s=v.$filter("filter")(u,function(e){return e.match(v.taggingLabel)}),s.length>0&&(o=s[0]),i=u[0],void 0!==i&&u.length>0&&o&&(f=!0,u=u.slice(1,u.length),a=a.slice(1,a.length)),r=v.search+" "+v.taggingLabel,h(v.selected,v.search)>-1)return;if(c(a.concat(v.selected)))return void (f&&(u=a,t.$evalAsync(function(){v.activeIndex=0,v.items=u})));if(c(a))return void (f&&(v.items=a.slice(1,a.length)))}f&&(l=h(v.selected,r)),l>-1?u=u.slice(l+1,u.length-1):(u=[],u.push(r),u=u.concat(a)),t.$evalAsync(function(){v.activeIndex=0,v.items=u})}}),g.on("tagged",function(){r(function(){a()})}),g.on("blur",function(){r(function(){v.activeMatchIndex=-1})}),t.$on("$destroy",function(){g.off("keyup keydown tagged blur")})}]).directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","$compile","$parse",function(t,n,r,i,s){return{restrict:"EA",templateUrl:function(e,t){var r=t.theme||n.theme;return r+(angular.isDefined(t.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",link:function(o,u,a,f,h){function p(e){var t=!1;t=window.jQuery?window.jQuery.contains(u[0],e.target):u[0].contains(e.target),t||d.clickTriggeredSelect||(d.close(angular.element(e.target).closest(".ui-select-container.open").length>0),o.$digest()),d.clickTriggeredSelect=!1}var d=f[0],v=f[1],m=u.querySelectorAll("input.ui-select-search");d.multiple=angular.isDefined(a.multiple)&&(""===a.multiple||"multiple"===a.multiple.toLowerCase()||"true"===a.multiple.toLowerCase()),d.closeOnSelect=function(){return angular.isDefined(a.closeOnSelect)?s(a.closeOnSelect)():n.closeOnSelect}(),d.onSelectCallback=s(a.onSelect),d.onRemoveCallback=s(a.onRemove),v.$parsers.unshift(function(e){var t,n={};if(d.multiple){for(var r=[],i=d.selected.length-1;i>=0;i--)n={},n[d.parserResult.itemName]=d.selected[i],t=d.parserResult.modelMapper(o,n),r.unshift(t);return r}return n={},n[d.parserResult.itemName]=e,t=d.parserResult.modelMapper(o,n)}),v.$formatters.unshift(function(e){var t,n=d.parserResult.source(o,{$select:{search:""}}),r={};if(n){if(d.multiple){var i=[],s=function(e,n){if(e&&e.length){for(var s=e.length-1;s>=0;s--)if(r[d.parserResult.itemName]=e[s],t=d.parserResult.modelMapper(o,r),t==n)return i.unshift(e[s]),!0;return!1}};if(!e)return i;for(var u=e.length-1;u>=0;u--)s(d.selected,e[u])||s(n,e[u]);return i}var a=function(n){return r[d.parserResult.itemName]=n,t=d.parserResult.modelMapper(o,r),t==e};if(d.selected&&a(d.selected))return d.selected;for(var f=n.length-1;f>=0;f--)if(a(n[f]))return n[f]}return e}),d.ngModel=v,d.choiceGrouped=function(e){return d.isGrouped&&e&&e.name};var g=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' aria-haspopup='true' role='button' />");a.tabindex&&a.$observe("tabindex",function(e){d.multiple?m.attr("tabindex",e):g.attr("tabindex",e),u.removeAttr("tabindex")}),i(g)(o),d.focusser=g,d.multiple||(u.append(g),g.bind("focus",function(){o.$evalAsync(function(){d.focus=!0})}),g.bind("blur",function(){o.$evalAsync(function(){d.focus=!1})}),g.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),d.select(void 0),void o.$apply()):void (t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),d.activate()),o.$digest()))}),g.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(d.activate(g.val()),g.val(""),o.$digest())})),o.$watch("searchEnabled",function(){var e=o.$eval(a.searchEnabled);d.searchEnabled=void 0!==e?e:n.searchEnabled}),a.$observe("disabled",function(){d.disabled=void 0!==a.disabled?a.disabled:!1}),a.$observe("resetSearchInput",function(){var e=o.$eval(a.resetSearchInput);d.resetSearchInput=void 0!==e?e:!0}),a.$observe("tagging",function(){if(void 0!==a.tagging){var e=o.$eval(a.tagging);d.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else d.tagging={isActivated:!1,fct:void 0}}),a.$observe("taggingLabel",function(){void 0!==a.tagging&&(d.taggingLabel="false"===a.taggingLabel?!1:void 0!==a.taggingLabel?a.taggingLabel:"(new)")}),a.$observe("taggingTokens",function(){if(void 0!==a.tagging){var e=void 0!==a.taggingTokens?a.taggingTokens.split("|"):[",","ENTER"];d.taggingTokens={isActivated:!0,tokens:e}}}),d.multiple?(o.$watchCollection(function(){return v.$modelValue},function(e,t){t!=e&&(v.$modelValue=null)}),o.$watchCollection("$select.selected",function(){v.$setViewValue(Date.now())}),g.prop("disabled",!0)):o.$watch("$select.selected",function(e){v.$viewValue!==e&&v.$setViewValue(e)}),v.$render=function(){if(d.multiple&&!angular.isArray(v.$viewValue)){if(!angular.isUndefined(v.$viewValue)&&null!==v.$viewValue)throw r("multiarr","Expected model value to be array but got '{0}'",v.$viewValue);d.selected=[]}d.selected=v.$viewValue},t.on("click",p),o.$on("$destroy",function(){t.off("click",p)}),h(o,function(e){var t=angular.element("<div>").append(e),n=t.querySelectorAll(".ui-select-match");if(n.removeAttr("ui-select-match"),1!==n.length)throw r("transcluded","Expected 1 .ui-select-match but got '{0}'.",n.length);u.querySelectorAll(".ui-select-match").replaceWith(n);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),1!==i.length)throw r("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);u.querySelectorAll(".ui-select-choices").replaceWith(i)})}}}]).directive("uiSelectChoices",["uiSelectConfig","RepeatParser","uiSelectMinErr","$compile",function(e,t,n,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(i,s){if(!s.repeat)throw n("repeat","Expected 'repeat' expression.");return function(i,s,o,u,a){var f=o.groupBy;if(u.parseRepeatAttr(o.repeat,f),u.disableChoiceExpression=o.uiDisableChoice,u.onHighlightCallback=o.onHighlight,f){var h=s.querySelectorAll(".ui-select-choices-group");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",h.length);h.attr("ng-repeat",t.getGroupNgRepeatExpression())}var p=s.querySelectorAll(".ui-select-choices-row");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",p.length);p.attr("ng-repeat",t.getNgRepeatExpression(u.parserResult.itemName,"$select.items",u.parserResult.trackByExp,f)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+u.parserResult.itemName+")").attr("ng-click","$select.select("+u.parserResult.itemName+",false,$event)");var d=s.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);d.attr("uis-transclude-append",""),r(s,a)(i),i.$watch("$select.search",function(e){e&&!u.open&&u.multiple&&u.activate(!1,!0),u.activeIndex=u.tagging.isActivated?-1:0,u.refresh(o.refresh)}),o.$observe("refreshDelay",function(){var t=i.$eval(o.refreshDelay);u.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,r=t.parent().attr("multiple");return n+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),i.allowClear=angular.isDefined(r.allowClear)?""===r.allowClear?!0:"true"===r.allowClear.toLowerCase():!1,i.multiple&&i.sizeSearchInput()}}}]).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}})}(),angular.module("ui/select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="menu" aria-labelledby="dLabel" ng-show="$select.items.length > 0"><li class="ui-select-choices-group"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind-html="$group.name"></div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span style="margin-right: 3px;" class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$select.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$select.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$select.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="btn-group ui-select-match btn-block" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><button type="button" class="btn btn-default" ng-class="{\'col-sm-8 col-md-10\': $select.allowClear && !$select.isEmpty(),\'col-sm-10 col-md-11\': !$select.allowClear || $select.isEmpty()}" tabindex="-1" ;="" ng-click="$select.activate()"><span ng-show="$select.isEmpty()" class="text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" ng-transclude=""></span></button> <button class="btn btn-default col-sm-2 col-md-1" ng-if="$select.allowClear && !$select.isEmpty()" ng-click="$select.select(undefined)"><span class="glyphicon glyphicon-remove ui-select-toggle"></span></button> <button class="btn btn-default col-sm-2 col-md-1" ng-click="$select.activate()"><span class="caret ui-select-toggle" ng-click="$select.toggle($event)"></span></button></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind-html="$group.name"></div><ul ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$select.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$select.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.activate()"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.select(undefined)"></abbr> <span class="select2-arrow ui-select-toggle" ng-click="$select.toggle($event)"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open,\n				\'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input ui-select-search" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open,\n				\'select2-container-disabled\': $select.disabled,\n				\'select2-container-active\': $select.focus, \n				\'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind-html="$group.name"></div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled"></div><div class="ui-select-choices"></div></div>')}]),!function(e,t){t["true"]=e,angular.module("textAngularSetup",[]).value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","indent","outdent"],["html","insertImage","insertLink","insertVideo"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)?(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).constant("taTranslations",{html:{buttontext:"Toggle HTML",tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unqoute selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"}}).run(["taRegisterTool","$window","taTranslations","taSelection",function(e,t,n,r){e("html",{buttontext:n.html.buttontext,tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var i=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},s=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:s,activeState:i(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1}}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){this.$editor().wrapSelection("removeFormat",null);var n=angular.element(r.getSelectionElement()),i=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};angular.forEach(n.find("ul"),i),angular.forEach(n.find("ol"),i);var s=this.$editor(),o=function(e){e=angular.element(e),e[0]!==s.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),o)};angular.forEach(n,o),"li"!==n[0].tagName.toLowerCase()&&"ol"!==n[0].tagName.toLowerCase()&&"ul"!==n[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","<p>"),t()}});var o=function(e,t,n){var r=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var i=n.displayElements.popoverContainer;i.empty();var s=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),r()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');u.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),r()});var a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');a.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),r()});var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');f.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),r()}),s.append(o),s.append(u),s.append(a),s.append(f),i.append(s),s=angular.element('<div class="btn-group" style="padding-right: 6px;">');var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');l.on("click",function(e){e.preventDefault(),t.css("float","left"),r()});var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","right"),r()});var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');h.on("click",function(e){e.preventDefault(),t.css("float",""),r()}),s.append(l),s.append(h),s.append(c),i.append(s),s=angular.element('<div class="btn-group">');var p=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');p.on("click",function(e){e.preventDefault(),t.remove(),r()}),s.append(p),i.append(s),n.showPopover(t),n.showResizeOverlay(t)};e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;return e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("insertImage",e,!0):void 0},onElementSelect:{element:"img",action:o}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e){var r=e.match(/(\?|&)v=[^&]*/);if(r.length>0){var i="http://www.youtube.com/embed/"+r[0].substring(3),s='<img class="ta-insert-video" ta-insert-video="'+i+'" contenteditable="false" src="" allowfullscreen="true" width="300" frameborder="0" height="250"/>';return this.$editor().wrapSelection("insertHTML",s,!0)}}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:o}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return e?"A"===e[0].tagName:!1},onElementSelect:{element:"a",action:function(e,r,i){e.preventDefault(),i.displayElements.popover.css("width","435px");var s=i.displayElements.popoverContainer;s.empty(),s.css("line-height","28px");var o=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"</a>");o.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),s.append(o);var u=angular.element('<div class="btn-group pull-right">'),a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on"><i class="fa fa-edit icon-edit"></i></button>');a.on("click",function(e){e.preventDefault();var s=t.prompt(n.insertLink.dialogPrompt,r.attr("href"));s&&""!==s&&"http://"!==s&&(r.attr("href",s),i.updateTaBindtaTextElement()),i.hidePopover()}),u.append(a);var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on"><i class="fa fa-unlink icon-unlink"></i></button>');f.on("click",function(e){e.preventDefault(),r.replaceWith(r.contents()),i.updateTaBindtaTextElement(),i.hidePopover()}),u.append(f);var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">Open in New Window</button>');"_blank"===r.attr("target")&&l.addClass("active"),l.on("click",function(e){e.preventDefault(),r.attr("target","_blank"===r.attr("target")?"":"_blank"),l.toggleClass("active"),i.updateTaBindtaTextElement()}),u.append(l),s.append(u),i.showPopover(r)}}})}]),function(){"Use Strict";function e(e){try{return 0!==angular.element(e).length}catch(t){return!1}}function t(e,n){var r=[],i=e.children();return i.length&&angular.forEach(i,function(e){r=r.concat(t(angular.element(e),n))}),void 0!==e.attr(n)&&r.push(e),r}function n(t,n){if(!t||""===t||p.hasOwnProperty(t))throw"textAngular Error: A unique name is required for a Tool Definition";if(n.display&&(""===n.display||!e(n.display))||!n.display&&!n.buttontext&&!n.iconclass)throw'textAngular Error: Tool Definition for "'+t+'" does not have a valid display/iconclass/buttontext value';p[t]=n}var r=!1;/AppleWebKit\/([\d.]+)/.exec(navigator.userAgent)&&(document.addEventListener("click",function(){var e=window.event.target;if(r&&null!==e){for(var t=!1,n=e;null!==n&&"html"!==n.tagName.toLowerCase()&&!t;)t="true"===n.contentEditable,n=n.parentNode;t||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),e.focus())}r=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" style="width:1px;height:1px;border:none;margin:0;padding:0;position:absolute; top: -10000; left: -10000;" unselectable="on" tabIndex="-1">'))}));var i=function(){var e,t=-1,n=window.navigator.userAgent,r=n.indexOf("MSIE "),i=n.indexOf("Trident/");if(r>0)t=parseInt(n.substring(r+5,n.indexOf(".",r)),10);else if(i>0){var s=n.indexOf("rv:");t=parseInt(n.substring(s+3,n.indexOf(".",s)),10)}return t>-1?t:e}();"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var s,o,u,a,f;if(i>8||void 0===i){var l=function(){var e=document.createElement("style");return/AppleWebKit\/([\d.]+)/.exec(navigator.userAgent)&&e.appendChild(document.createTextNode("")),document.head.insertBefore(e,document.head.firstChild),e.sheet}();s=function(){var e=document.createElement("style");return/AppleWebKit\/([\d.]+)/.exec(navigator.userAgent)&&e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}(),o=function(e,t){a(s,e,t)},a=function(e,t,n){var r;return e.rules?r=Math.max(e.rules.length-1,0):e.cssRules&&(r=Math.max(e.cssRules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",r):e.addRule(t,n,r),r},u=function(e){f(s,e)},f=function(e,t){e.removeRule?e.removeRule(t):e.deleteRule(t)},a(l,".ta-scroll-window.form-control","height: auto; min-height: 300px; overflow: auto; font-family: inherit; font-size: 100%; position: relative; padding: 0;"),a(l,".ta-root.focussed .ta-scroll-window.form-control","border-color: #66afe9; outline: 0; -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(102, 175, 233, 0.6);"),a(l,".ta-editor.ta-html","min-height: 300px; height: auto; overflow: auto; font-family: inherit; font-size: 100%;"),a(l,".ta-scroll-window > .ta-bind","height: auto; min-height: 300px; padding: 6px 12px;"),a(l,".ta-root .ta-resizer-handle-overlay","z-index: 100; position: absolute; display: none;"),a(l,".ta-root .ta-resizer-handle-overlay > .ta-resizer-handle-info","position: absolute; bottom: 16px; right: 16px; border: 1px solid black; background-color: #FFF; padding: 0 4px; opacity: 0.7;"),a(l,".ta-root .ta-resizer-handle-overlay > .ta-resizer-handle-background","position: absolute; bottom: 5px; right: 5px; left: 5px; top: 5px; border: 1px solid black; background-color: rgba(0, 0, 0, 0.2);"),a(l,".ta-root .ta-resizer-handle-overlay > .ta-resizer-handle-corner","width: 10px; height: 10px; position: absolute;"),a(l,".ta-root .ta-resizer-handle-overlay > .ta-resizer-handle-corner-tl","top: 0; left: 0; border-left: 1px solid black; border-top: 1px solid black;"),a(l,".ta-root .ta-resizer-handle-overlay > .ta-resizer-handle-corner-tr","top: 0; right: 0; border-right: 1px solid black; border-top: 1px solid black;"),a(l,".ta-root .ta-resizer-handle-overlay > .ta-resizer-handle-corner-bl","bottom: 0; left: 0; border-left: 1px solid black; border-bottom: 1px solid black;"),a(l,".ta-root .ta-resizer-handle-overlay > .ta-resizer-handle-corner-br","bottom: 0; right: 0; border: 1px solid black; cursor: se-resize; background-color: white;")}var c=!1,h=angular.module("textAngular",["ngSanitize","textAngularSetup"]),p={};h.constant("taRegisterTool",n),h.value("taTools",p),h.config([function(){angular.forEach(p,function(e,t){delete p[t]})}]),h.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log",function(e,t,n,r,i,s,o,u,a,f){return{require:"?ngModel",scope:{},restrict:"EA",link:function(l,c,h,p){var v,m,y,w,E,S,x,T,N,C=h.serial?h.serial:Math.floor(1e16*Math.random()),k=h.name?h.name:"textAngularEditor"+C,L=function(e,n,r){t(function(){var t=function(){e.off(n,t),r()};e.on(n,t)},100)};N=i(h.taDefaultWrap),angular.extend(l,angular.copy(n),{wrapSelection:function(e,t,n){N(e,!1,t),n&&l["reApplyOnSelectorHandlerstaTextElement"+C](),l.displayElements.text[0].focus()},showHtml:!1}),h.taFocussedClass&&(l.classes.focussed=h.taFocussedClass),h.taTextEditorClass&&(l.classes.textEditor=h.taTextEditorClass),h.taHtmlEditorClass&&(l.classes.htmlEditor=h.taHtmlEditorClass),h.taTextEditorSetup&&(l.setup.textEditorSetup=l.$parent.$eval(h.taTextEditorSetup)),h.taHtmlEditorSetup&&(l.setup.htmlEditorSetup=l.$parent.$eval(h.taHtmlEditorSetup)),l.fileDropHandler=h.taFileDrop?l.$parent.$eval(h.taFileDrop):l.defaultFileDropHandler,x=c[0].innerHTML,c[0].innerHTML="",l.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},l.displayElements.popover.append(l.displayElements.popoverArrow),l.displayElements.popover.append(l.displayElements.popoverContainer),l.displayElements.scrollWindow.append(l.displayElements.popover),l.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),l.showPopover=function(e){l.displayElements.popover.css("display","block"),l.reflowPopover(e),a.addClass(l.displayElements.popover,"in"),L(c,"click keyup",function(){l.hidePopover()})},l.reflowPopover=function(e){l.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(l.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+"px"),l.displayElements.popover.removeClass("top").addClass("bottom")):(l.displayElements.popover.css("top",e[0].offsetTop-54+"px"),l.displayElements.popover.removeClass("bottom").addClass("top"));var t=l.displayElements.text[0].offsetWidth-l.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-l.displayElements.popover[0].offsetWidth/2;l.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),l.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},l.hidePopover=function(){a.removeClass(l.displayElements.popover,"in",function(){l.displayElements.popover.css("display",""),l.displayElements.popoverContainer.attr("style",""),l.displayElements.popoverContainer.attr("class","popover-content")})},l.displayElements.resize.overlay.append(l.displayElements.resize.background),angular.forEach(l.displayElements.resize.anchors,function(e){l.displayElements.resize.overlay.append(e)}),l.displayElements.resize.overlay.append(l.displayElements.resize.info),l.displayElements.scrollWindow.append(l.displayElements.resize.overlay),l.reflowResizeOverlay=function(e){e=angular.element(e)[0],l.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),l.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},l.showResizeOverlay=function(e){var t=function(t){var n={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:t.clientX,y:t.clientY};void 0===n.width&&(n.width=e[0].offsetWidth),void 0===n.height&&(n.height=e[0].offsetHeight),l.hidePopover();var r=n.height/n.width,i=function(t){var i={x:Math.max(0,n.width+(t.clientX-n.x)),y:Math.max(0,n.height+(t.clientY-n.y))},s=function(e,t){e=angular.element(e),"img"===e[0].tagName.toLowerCase()&&(t.height&&(e.attr("height",t.height),delete t.height),t.width&&(e.attr("width",t.width),delete t.width)),e.css(t)};if(t.shiftKey){var o=i.y/i.x;s(e,{width:r>o?i.x:i.y/r,height:r>o?i.x*r:i.y})}else s(e,{width:i.x,height:i.y});l.reflowResizeOverlay(e)};u.find("body").on("mousemove",i),L(l.displayElements.resize.overlay,"mouseup",function(){u.find("body").off("mousemove",i),l.showPopover(e)}),t.stopPropagation(),t.preventDefault()};l.displayElements.resize.anchors[3].on("mousedown",t),l.reflowResizeOverlay(e),L(c,"click",function(){l.hideResizeOverlay()})},l.hideResizeOverlay=function(){l.displayElements.resize.overlay.css("display","")},l.setup.htmlEditorSetup(l.displayElements.html),l.setup.textEditorSetup(l.displayElements.text),l.displayElements.html.attr({id:"taHtmlElement"+C,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html"}),l.displayElements.text.attr({id:"taTextElement"+C,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html"}),l.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),h.taDefaultWrap&&l.displayElements.text.attr("ta-default-wrap",h.taDefaultWrap),h.taUnsafeSanitizer&&(l.displayElements.text.attr("ta-unsafe-sanitizer",h.taUnsafeSanitizer),l.displayElements.html.attr("ta-unsafe-sanitizer",h.taUnsafeSanitizer)),l.displayElements.scrollWindow.append(l.displayElements.text),c.append(l.displayElements.scrollWindow),c.append(l.displayElements.html),l.displayElements.forminput.attr("name",k),c.append(l.displayElements.forminput),h.tabindex&&(c.removeAttr("tabindex"),l.displayElements.text.attr("tabindex",h.tabindex),l.displayElements.html.attr("tabindex",h.tabindex)),h.placeholder&&(l.displayElements.text.attr("placeholder",h.placeholder),l.displayElements.html.attr("placeholder",h.placeholder)),h.taDisabled&&(l.displayElements.text.attr("ta-readonly","disabled"),l.displayElements.html.attr("ta-readonly","disabled"),l.disabled=l.$parent.$eval(h.taDisabled),l.$parent.$watch(h.taDisabled,function(e){l.disabled=e,l.disabled?c.addClass(l.classes.disabled):c.removeClass(l.classes.disabled)})),e(l.displayElements.scrollWindow)(l),e(l.displayElements.html)(l),l.updateTaBindtaTextElement=l["updateTaBindtaTextElement"+C],l.updateTaBindtaHtmlElement=l["updateTaBindtaHtmlElement"+C],c.addClass("ta-root"),l.displayElements.scrollWindow.addClass("ta-text ta-editor "+l.classes.textEditor),l.displayElements.html.addClass("ta-html ta-editor "+l.classes.htmlEditor),l._actionRunning=!1;var A=!1;if(l.startAction=function(){return l._actionRunning=!0,o.rangy&&o.rangy.saveSelection?(A=o.rangy.saveSelection(),function(){A&&o.rangy.restoreSelection(A)}):void 0},l.endAction=function(){l._actionRunning=!1,A&&o.rangy.removeMarkers(A),A=!1,l.updateSelectedStyles(),l.showHtml||l["updateTaBindtaTextElement"+C]()},E=function(){c.addClass(l.classes.focussed),T.focus()},l.displayElements.html.on("focus",E),l.displayElements.text.on("focus",E),S=function(e){return l._actionRunning||u[0].activeElement===l.displayElements.html[0]||u[0].activeElement===l.displayElements.text[0]||(c.removeClass(l.classes.focussed),T.unfocus(),t(function(){c.triggerHandler("blur")},0)),e.preventDefault(),!1},l.displayElements.html.on("blur",S),l.displayElements.text.on("blur",S),l.queryFormatBlockState=function(e){return!l.showHtml&&e.toLowerCase()===u[0].queryCommandValue("formatBlock").toLowerCase()},l.queryCommandState=function(e){return l.showHtml?"":u[0].queryCommandState(e)},l.switchView=function(){l.showHtml=!l.showHtml,l.showHtml?t(function(){return l.displayElements.html[0].focus()},100):t(function(){return l.displayElements.text[0].focus()},100)},h.ngModel){var O=!0;p.$render=function(){if(O){O=!1;var e=l.$parent.$eval(h.ngModel);void 0!==e&&null!==e||!x||""===x||p.$setViewValue(x)}l.displayElements.forminput.val(p.$viewValue),l._elementSelectTriggered||u[0].activeElement===l.displayElements.html[0]||u[0].activeElement===l.displayElements.text[0]||(l.html=p.$viewValue||"")};var M=function(e){return h.required&&p.$setValidity("required",!!e&&""!==e.trim()),e};p.$parsers.push(M),p.$formatters.push(M)}else l.displayElements.forminput.val(x),l.html=x;if(l.$watch("html",function(e,t){e!==t&&(h.ngModel&&p.$viewValue!==e&&p.$setViewValue(e),l.displayElements.forminput.val(e))}),h.taTargetToolbars)T=s.registerEditor(k,l,h.taTargetToolbars.split(","));else{var _=angular.element('<div text-angular-toolbar name="textAngularToolbar'+C+'">');h.taToolbar&&_.attr("ta-toolbar",h.taToolbar),h.taToolbarClass&&_.attr("ta-toolbar-class",h.taToolbarClass),h.taToolbarGroupClass&&_.attr("ta-toolbar-group-class",h.taToolbarGroupClass),h.taToolbarButtonClass&&_.attr("ta-toolbar-button-class",h.taToolbarButtonClass),h.taToolbarActiveButtonClass&&_.attr("ta-toolbar-active-button-class",h.taToolbarActiveButtonClass),h.taFocussedClass&&_.attr("ta-focussed-class",h.taFocussedClass),c.prepend(_),e(_)(l.$parent),T=s.registerEditor(k,l,["textAngularToolbar"+C])}l.$on("$destroy",function(){s.unregisterEditor(k)}),l.$on("ta-element-select",function(e,t){T.triggerElementSelect(e,t)}),l.$on("ta-drop-event",function(e,t,n,r){l.displayElements.text[0].focus(),r&&r.files&&r.files.length>0&&(angular.forEach(r.files,function(e){try{return l.fileDropHandler(e,l.wrapSelection)||l.fileDropHandler!==l.defaultFileDropHandler&&l.defaultFileDropHandler(e,l.wrapSelection)}catch(t){f.error(t)}}),n.preventDefault(),n.stopPropagation())}),l._bUpdateSelectedStyles=!1,l.updateSelectedStyles=function(){var e;void 0!==(e=r.getSelectionElement())&&e.parentNode!==l.displayElements.text[0]?T.updateSelectedStyles(angular.element(e)):T.updateSelectedStyles(),l._bUpdateSelectedStyles&&t(l.updateSelectedStyles,200)},v=function(){l._bUpdateSelectedStyles||(l._bUpdateSelectedStyles=!0,l.$apply(function(){l.updateSelectedStyles()}))},l.displayElements.html.on("keydown",v),l.displayElements.text.on("keydown",v),m=function(){l._bUpdateSelectedStyles=!1},l.displayElements.html.on("keyup",m),l.displayElements.text.on("keyup",m),y=function(e,t){t&&angular.extend(e,t),l.$apply(function(){return T.sendKeyCommand(e)?(l._bUpdateSelectedStyles||l.updateSelectedStyles(),e.preventDefault(),!1):void 0})},l.displayElements.html.on("keypress",y),l.displayElements.text.on("keypress",y),w=function(){l._bUpdateSelectedStyles=!1,l.$apply(function(){l.updateSelectedStyles()})},l.displayElements.html.on("mouseup",w),l.displayElements.text.on("mouseup",w)}}}]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===i?"div":8>=i?"P":"p":8>=i?e.toUpperCase():e:8>=i?"P":"p"}}]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var r=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/gi,i=/^(ul|li|ol)$/gi,s=function(t,n){var r,i,s=t.find("li");for(i=s.length-1;i>=0;i--)r=angular.element("<"+n+">"+s[i].innerHTML+"</"+n+">"),t.after(r);t.remove(),e.setSelectionToElementEnd(r[0])},o=function(t,n){var r=angular.element("<"+n+">"+t[0].innerHTML+"</"+n+">");t.after(r),t.remove(),e.setSelectionToElementEnd(r.find("li")[0])},u=function(n,r,i){for(var s="",o=0;o<n.length;o++)s+="<"+t("li")+">"+n[o].innerHTML+"</"+t("li")+">";var u=angular.element("<"+i+">"+s+"</"+i+">");r.after(u),r.remove(),e.setSelectionToElementEnd(u.find("li")[0])};return function(a){return a=t(a),function(f,l,c){var h,p,v,m,y,w=angular.element("<"+a+">"),E=e.getSelectionElement(),S=angular.element(E);if(void 0!==E){var x=E.tagName.toLowerCase();if("insertorderedlist"===f.toLowerCase()||"insertunorderedlist"===f.toLowerCase()){var T=t("insertorderedlist"===f.toLowerCase()?"ol":"ul");if(x===T)return s(S,a);if("li"===x&&S.parent()[0].tagName.toLowerCase()===T&&1===S.parent().children().length)return s(S.parent(),a);if("li"===x&&S.parent()[0].tagName.toLowerCase()!==T&&1===S.parent().children().length)return o(S.parent(),T);if(x.match(r)&&!S.hasClass("ta-bind")){if("ol"===x||"ul"===x)return o(S,T);var N=!1;return angular.forEach(S.children(),function(e){e.tagName.match(r)&&(N=!0)}),N?u(S.children(),S,T):u([angular.element("<div>"+E.innerHTML+"</div>")[0]],S,T)}if(x.match(r)){if(m=e.getOnlySelectedElements(),1!==m.length||"ol"!==m[0].tagName.toLowerCase()&&"ul"!==m[0].tagName.toLowerCase()){v="";var C=[];for(h=0;h<m.length;h++)if(3!==m[h].nodeType){var k=angular.element(m[h]);v+="<"+t("li")+">"+k[0].innerHTML+"</"+t("li")+">",C.unshift(k)}return p=angular.element("<"+T+">"+v+"</"+T+">"),C.pop().replaceWith(p),angular.forEach(C,function(e){e.remove()}),void e.setSelectionToElementEnd(p[0])}return m[0].tagName.toLowerCase()===T?s(angular.element(m[0]),a):o(angular.element(m[0]),T)}}else if("formatblock"===f.toLowerCase()){var L=c.toLowerCase().replace(/[<>]/gi,"");for(p="li"===x?S.parent():S;!p[0].tagName.match(r);)p=p.parent(),x=p[0].tagName.toLowerCase();if(x===L){m=p.children();var A=!1;for(h=0;h<m.length;h++)A=A||m[h].tagName.match(r);A?(p.after(m),y=p.next(),p.remove(),p=y):(w.append(p[0].childNodes),p.after(w),p.remove(),p=w)}else if(p.parent()[0].tagName.toLowerCase()!==L||p.parent().hasClass("ta-bind"))if(x.match(i))p.wrap(c);else{m=e.getOnlySelectedElements(),0===m.length&&(m=[p[0]]);var O=!1;if(angular.forEach(m,function(e){3!==e.nodeType&&e.tagName.match(r)||(O=!0)}),O)for(;3===m[0].nodeType||!m[0].tagName.match(r);)m=[m[0].parentNode];if(angular.element(m[0]).hasClass("ta-bind"))p=angular.element(c),p[0].innerHTML=m[0].innerHTML,m[0].innerHTML=p[0].outerHTML;else if("blockquote"===L){for(v="",h=0;h<m.length;h++)v+=m[h].outerHTML;p=angular.element(c),p[0].innerHTML=v,m[0].parentNode.insertBefore(p[0],m[0]),angular.forEach(m,function(e){e.parentNode.removeChild(e)})}else for(h=0;h<m.length;h++)p=angular.element(c),p[0].innerHTML=m[h].innerHTML,m[h].parentNode.insertBefore(p[0],m[h]),m[h].parentNode.removeChild(m[h])}else{var M=p.parent(),_=M.contents();for(h=0;h<_.length;h++)M.parent().hasClass("ta-bind")&&3===_[h].nodeType&&(w=angular.element("<"+a+">"),w[0].innerHTML=_[h].outerHTML,_[h]=w[0]),M.parent()[0].insertBefore(_[h],M[0]);M.remove()}return void e.setSelectionToElementEnd(p[0])}}try{n[0].execCommand(f,l,c)}catch(D){}}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions",function(e,t,n,s,a,f,l,h,p,v){return{require:"ngModel",scope:{},link:function(f,y,w,E){var S,x,T=void 0!==y.attr("contenteditable")&&y.attr("contenteditable"),N=T||"textarea"===y[0].tagName.toLowerCase()||"input"===y[0].tagName.toLowerCase(),C=!1,L=!1,A=w.taUnsafeSanitizer||v.disableSanitizer;void 0===w.taDefaultWrap&&(w.taDefaultWrap="p"),""===w.taDefaultWrap?(S="",x=void 0===i?"<div><br></div>":i>=11?"<p><br></p>":8>=i?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(S=void 0===i||i>=11?"<"+w.taDefaultWrap+"><br></"+w.taDefaultWrap+">":8>=i?"<"+w.taDefaultWrap.toUpperCase()+"></"+w.taDefaultWrap.toUpperCase()+">":"<"+w.taDefaultWrap+"></"+w.taDefaultWrap+">",x=void 0===i||i>=11?"<"+w.taDefaultWrap+"><br></"+w.taDefaultWrap+">":8>=i?"<"+w.taDefaultWrap.toUpperCase()+">&nbsp;</"+w.taDefaultWrap.toUpperCase()+">":"<"+w.taDefaultWrap+">&nbsp;</"+w.taDefaultWrap+">"),y.addClass("ta-bind");var O=function(){if(T)return y[0].innerHTML;if(N)return y.val();throw"textAngular Error: attempting to update non-editable taBind"},M=function(e){e||(e=O()),e===x?""!==E.$viewValue&&E.$setViewValue(""):E.$viewValue!==e&&E.$setViewValue(e)};if(f.$parent["updateTaBind"+(w.id||"")]=function(){C||M()},N)if(T){if(y.on("cut",function(e){C?e.preventDefault():t(function(){M()},0)}),y.on("paste",function(e,t){t&&angular.extend(e,t);var r;if(e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData?r=(e.originalEvent||e).clipboardData.getData("text/plain"):n.clipboardData&&(r=n.clipboardData.getData("Text")),!r&&!C)return!0;if(e.preventDefault(),!C){var i=angular.element("<div></div>");if(i[0].innerHTML=r,r=i.text(),s[0].selection){var o=s[0].selection.createRange();o.pasteHTML(r)}else s[0].execCommand("insertText",!1,r);M()}}),y.on("keyup",function(e,t){if(t&&angular.extend(e,t),!C){if(""!==S&&13===e.keyCode&&!e.shiftKey){var n=l.getSelectionElement();if(n.tagName.toLowerCase()!==w.taDefaultWrap&&"li"!==n.tagName.toLowerCase()&&(""===n.innerHTML.trim()||"<br>"===n.innerHTML.trim())){var r=angular.element(S);angular.element(n).replaceWith(r),l.setSelectionToElementStart(r[0])}}var i=O();""!==S&&""===i.trim()&&(y[0].innerHTML=S,l.setSelectionToElementStart(y.children()[0])),M(i)}}),y.on("blur",function(){L=!1,C||M(),E.$render()}),w.placeholder&&(i>8||void 0===i)){var _;if(!w.id)throw"textAngular Error: An unique ID is required for placeholders to work";_=o("#"+w.id+".placeholder-text:before",'content: "'+w.placeholder+'"'),f.$on("$destroy",function(){u(_)})}y.on("focus",function(){L=!0,E.$render()}),y.on("mousedown",function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else y.on("paste cut",function(){C||t(function(){E.$setViewValue(O())},0)}),y.on("change blur",function(){C||E.$setViewValue(O())});var D=function(t){return E.$oldViewValue=e(a(t),E.$oldViewValue,A)},P=function(e){return w.required&&E.$setValidity("required",!!e&&e.trim()!==x&&""!==e.trim()),e};E.$parsers.push(D),E.$parsers.push(P),E.$formatters.push(D),E.$formatters.push(P);var H=function(e){return f.$emit("ta-element-select",this),e.preventDefault(),!1},B=function(e,n){if(n&&angular.extend(e,n),!c&&!C){c=!0;var r;r=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,f.$emit("ta-drop-event",this,e,r),t(function(){c=!1},100)}};f.$parent["reApplyOnSelectorHandlers"+(w.id||"")]=function(){C||angular.forEach(h,function(e){y.find(e).off("click",H).on("click",H)})};var j=function(e){y[0].innerHTML=e};E.$render=function(){var e=E.$viewValue||"";s[0].activeElement!==y[0]?T?(w.placeholder?""===e?(L?y.removeClass("placeholder-text"):y.addClass("placeholder-text"),j(S)):(y.removeClass("placeholder-text"),j(e)):j(""===e?S:e),C?y.off("drop",B):(angular.forEach(h,function(e){y.find(e).on("click",H)}),y.on("drop",B))):"textarea"!==y[0].tagName.toLowerCase()&&"input"!==y[0].tagName.toLowerCase()?j(p(e)):y.val(e):T&&y.removeClass("placeholder-text")},w.taReadonly&&(C=f.$parent.$eval(w.taReadonly),C?(y.addClass("ta-readonly"),("textarea"===y[0].tagName.toLowerCase()||"input"===y[0].tagName.toLowerCase())&&y.attr("disabled","disabled"),void 0!==y.attr("contenteditable")&&y.attr("contenteditable")&&y.removeAttr("contenteditable")):(y.removeClass("ta-readonly"),"textarea"===y[0].tagName.toLowerCase()||"input"===y[0].tagName.toLowerCase()?y.removeAttr("disabled"):T&&y.attr("contenteditable","true")),f.$parent.$watch(w.taReadonly,function(e,t){t!==e&&(e?(y.addClass("ta-readonly"),("textarea"===y[0].tagName.toLowerCase()||"input"===y[0].tagName.toLowerCase())&&y.attr("disabled","disabled"),void 0!==y.attr("contenteditable")&&y.attr("contenteditable")&&y.removeAttr("contenteditable"),angular.forEach(h,function(e){y.find(e).on("click",H)}),y.off("drop",B)):(y.removeClass("ta-readonly"),"textarea"===y[0].tagName.toLowerCase()||"input"===y[0].tagName.toLowerCase()?y.removeAttr("disabled"):T&&y.attr("contenteditable","true"),angular.forEach(h,function(e){y.find(e).off("click",H)}),y.on("drop",B)),C=e)})),T&&!C&&(angular.forEach(h,function(e){y.find(e).on("click",H)}),y.on("drop",B),y.on("blur",function(){/AppleWebKit\/([\d.]+)/.exec(navigator.userAgent)&&(r=!0)}))}}}]).factory("taApplyCustomRenderers",["taCustomRenderers",function(e){return function(n){var r=angular.element("<div></div>");return r[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=r.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t(r,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),r[0].innerHTML}}]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(e){var t=angular.element("<div/>");t.html(e);var n=t.text().length;return s>=n?(r.$setValidity("taMaxText",!0),e):void r.$setValidity("taMaxText",!1)}var s=parseInt(e.$eval(n.taMaxText));if(isNaN(s))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(s=parseInt(e),isNaN(s))throw"Max text must be an integer";r.$dirty&&r.$setViewValue(r.$viewValue)}),r.$parsers.unshift(i)}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(e){var t=angular.element("<div/>");t.html(e);var n=t.text().length;return!n||n>=s?(r.$setValidity("taMinText",!0),e):void r.$setValidity("taMinText",!1)}var s=parseInt(e.$eval(n.taMinText));if(isNaN(s))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(s=parseInt(e),isNaN(s))throw"Min text must be an integer";r.$dirty&&r.$setViewValue(r.$viewValue)}),r.$parsers.unshift(i)}}}).factory("taFixChrome",function(){var e=function(e){for(var t=angular.element("<div>"+e+"</div>"),n=angular.element(t).find("span"),r=0;r<n.length;r++){var i=angular.element(n[r]);i.attr("style")&&i.attr("style").match(/line-height: 1.428571429;|color: inherit; line-height: 1.1;/i)&&(i.attr("style",i.attr("style").replace(/( |)font-family: inherit;|( |)line-height: 1.428571429;|( |)line-height:1.1;|( |)color: inherit;/gi,"")),i.attr("style")&&""!==i.attr("style")||(i.next().length>0&&"BR"===i.next()[0].tagName&&i.next().remove(),i.replaceWith(i[0].innerHTML)))}var s=t[0].innerHTML.replace(/style="[^"]*?(line-height: 1.428571429;|color: inherit; line-height: 1.1;)[^"]*"/gi,"");return s!==t[0].innerHTML&&(t[0].innerHTML=s),t[0].innerHTML};return e}).factory("taSanitize",["$sanitize",function(e){return function(n,r,i){var s=angular.element("<div>"+n+"</div>");angular.forEach(t(s,"align"),function(e){e.css("text-align",e.attr("align")),e.removeAttr("align")});var o;n=s[0].innerHTML;try{o=e(n),i&&(o=n)}catch(u){o=r||""}return o}}]).directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,r,i,s){return{scope:{name:"@"},restrict:"EA",link:function(o,u,a){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),a.taToolbar&&(o.toolbar=o.$parent.$eval(a.taToolbar)),a.taToolbarClass&&(o.classes.toolbar=a.taToolbarClass),a.taToolbarGroupClass&&(o.classes.toolbarGroup=a.taToolbarGroupClass),a.taToolbarButtonClass&&(o.classes.toolbarButton=a.taToolbarButtonClass),a.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=a.taToolbarActiveButtonClass),a.taFocussedClass&&(o.classes.focussed=a.taFocussedClass),o.disabled=!0,o.focussed=!1,o._$element=u,u[0].innerHTML="",u.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?u.addClass(o.classes.focussed):u.removeClass(o.classes.focussed)});var f=function(t,n){var r;if(r=angular.element(t&&t.display?t.display:"<button type='button'>"),r.addClass(o.classes.toolbarButton),r.attr("name",n.name),r.attr("unselectable","on"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&r.attr("title",t.tooltiptext),r.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),t&&!t.display&&!n._display&&(r[0].innerHTML="",t.buttontext&&(r[0].innerHTML=t.buttontext),t.iconclass)){var i=angular.element("<i>"),s=r[0].innerHTML;i.addClass(t.iconclass),r[0].innerHTML="",r.append(i),s&&""!==s&&r.append("&nbsp;"+s)}return n._lastToolDefinition=angular.copy(t),e(r)(n)};o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var l={$window:s,$editor:function(){return o._parent},isDisabled:function(){return this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?o.classes.toolbarButtonActive:""},executeAction:i};angular.forEach(o.toolbar,function(e){var t=angular.element("<div>");t.addClass(o.classes.toolbarGroup),angular.forEach(e,function(e){o.tools[e]=angular.extend(o.$new(!0),r[e],l,{name:e}),o.tools[e].$element=f(r[e],o.tools[e]),t.append(o.tools[e].$element)}),u.append(t)}),o.updateToolDisplay=function(e,t,n){var r=o.tools[e];if(r){if(r._lastToolDefinition&&!n&&(t=angular.extend({},r._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var i=f(t,r);r.$element.replaceWith(i),r.$element=i}},o.addTool=function(e,t,n,i){o.tools[e]=angular.extend(o.$new(!0),r[e],l,{name:e}),o.tools[e].$element=f(r[e],o.tools[e]);var s;void 0===n&&(n=o.toolbar.length-1),s=angular.element(u.children()[n]),void 0===i?(s.append(o.tools[e].$element),o.toolbar[n][o.toolbar[n].length-1]=e):(s.children().eq(i).after(o.tools[e].$element),o.toolbar[n][i]=e)},t.registerToolbar(o),o.$on("$destroy",function(){t.unregisterToolbar(o.name)})}}}]).service("taToolExecuteAction",["$q",function(e){return function(t){void 0!==t&&(this.$editor=function(){return t});var n=e.defer(),r=n.promise,i=this.$editor();r["finally"](function(){i.endAction.call(i)});var s;try{s=this.action(n,i.startAction())}catch(o){}(s||void 0===s)&&n.resolve()}}]).service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var r={},i={};return{registerEditor:function(n,s,o){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!s)throw"textAngular Error: An editor requires a scope";if(i[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var u=[];return angular.forEach(o,function(e){r[e]&&u.push(r[e])}),i[n]={scope:s,toolbars:o,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&u.push(e)},editorFunctions:{disable:function(){angular.forEach(u,function(e){e.disabled=!0})},enable:function(){angular.forEach(u,function(e){e.disabled=!1})},focus:function(){angular.forEach(u,function(e){e._parent=s,e.disabled=!1,e.focussed=!0})},unfocus:function(){angular.forEach(u,function(e){e.disabled=!0,e.focussed=!1})},updateSelectedStyles:function(e){angular.forEach(u,function(t){angular.forEach(t.tools,function(t){t.activeState&&(t.active=t.activeState(e))})})},sendKeyCommand:function(n){var r=!1;return(n.ctrlKey||n.metaKey)&&angular.forEach(t,function(t,i){if(t.commandKeyCode&&t.commandKeyCode===n.which)for(var o=0;o<u.length;o++)if(void 0!==u[o].tools[i]){e.call(u[o].tools[i],s),r=!0;break}}),r},triggerElementSelect:function(e,n){var r=function(e,t){for(var n=!0,r=0;r<t.length;r++)n=n&&e.attr(t[r]);return n},i=[],o={},a=!1;n=angular.element(n);var f=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(f=f||angular.isArray(e.onElementSelect.onlyWithAttrs)&&r(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||r(n,e.onElementSelect.onlyWithAttrs))&&(o[t]=e))}),f?(angular.forEach(o,function(e,t){e.onElementSelect.onlyWithAttrs&&r(n,e.onElementSelect.onlyWithAttrs)&&i.push({name:t,tool:e})}),i.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(o,function(e,t){i.push({name:t,tool:e})}),i.length>0)for(var l=0;l<i.length;l++){for(var c=i[l].tool,h=i[l].name,p=0;p<u.length;p++)if(void 0!==u[p].tools[h]){c.onElementSelect.action.call(u[p].tools[h],e,n,s),a=!0;break}if(a)break}return a}}},i[n].editorFunctions},retrieveEditor:function(e){return i[e]},unregisterEditor:function(e){delete i[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(r[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';r[e.name]=e,angular.forEach(i,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return r[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete r[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(r,function(r,i){n.updateToolbarToolDisplay(i,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(r,function(n,r){t.resetToolbarToolDisplay(r,e)})},updateToolbarToolDisplay:function(e,t,n){if(!r[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';r[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!r[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';r[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(r,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var r,i=0;i<t.toolbar[n].length;i++){if(t.toolbar[n][i]===e){r={group:n,index:i};break}if(void 0!==r)break}void 0!==r&&(t.toolbar[r.group].slice(r.index,1),t._$element.children().eq(r.group).children().eq(r.index).remove())}})},addTool:function(e,t,i,s){n(e,t),angular.forEach(r,function(n){n.addTool(e,t,i,s)})},addToolToToolbar:function(e,t,i,s,o){n(e,t),r[i].addTool(e,t,s,o)},refreshEditor:function(e){if(!i[e])throw'textAngular Error: No Editor with name "'+e+'" exists';i[e].scope.updateTaBindtaTextElement(),i[e].scope.$$phase||i[e].scope.$digest()}}}]).service("taSelection",["$window","$document",function(e,t){var n=t[0],r=function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},i=function(e){var t=e.startContainer,n=e.endContainer;if(t===n)return[t];for(var i=[];t&&t!==n;)t=r(t),t.parentNode===e.commonAncestorContainer&&i.push(t);for(t=e.startContainer;t&&t!==e.commonAncestorContainer;)t.parentNode===e.commonAncestorContainer&&i.unshift(t),t=t.parentNode;return i};return{getOnlySelectedElements:function(){if(window.getSelection){var t=e.getSelection();if(!t.isCollapsed)return i(t.getRangeAt(0))}return[]},getSelectionElement:function(){var t,r,i;return n.selection&&n.selection.createRange?(t=n.selection.createRange(),t.parentElement()):e.getSelection&&(r=e.getSelection(),r.getRangeAt?r.rangeCount>0&&(t=r.getRangeAt(0)):(t=n.createRange(),t.setStart(r.anchorNode,r.anchorOffset),t.setEnd(r.focusNode,r.focusOffset),t.collapsed!==r.isCollapsed&&(t.setStart(r.focusNode,r.focusOffset),t.setEnd(r.anchorNode,r.anchorOffset))),t)?(i=t.commonAncestorContainer,3===i.nodeType?i.parentNode:i):void 0},setSelectionToElementStart:function(t){if(n.createRange&&e.getSelection){var r=n.createRange();r.selectNodeContents(t),r.setStart(t,0),r.setEnd(t,0);var i=e.getSelection();i.removeAllRanges(),i.addRange(r)}else if(n.selection&&n.body.createTextRange){var s=n.body.createTextRange();s.moveToElementText(t),s.collapse(!0),s.moveEnd("character",0),s.moveStart("character",0),s.select()}},setSelectionToElementEnd:function(t){if(n.createRange&&e.getSelection){var r=n.createRange();r.selectNodeContents(t),r.collapse(!1);var i=e.getSelection();i.removeAllRanges(),i.addRange(r)}else if(n.selection&&n.body.createTextRange){var s=n.body.createTextRange();s.moveToElementText(t),s.collapse(!1),s.select()}}}}])}()}({},function(){return this}()),angular.module("ui/bootstrap",["ui/bootstrap/tpls","ui/bootstrap/transition","ui/bootstrap/collapse","ui/bootstrap/accordion","ui/bootstrap/alert","ui/bootstrap/bindHtml","ui/bootstrap/buttons","ui/bootstrap/carousel","ui/bootstrap/dateparser","ui/bootstrap/position","ui/bootstrap/datepicker","ui/bootstrap/dropdown","ui/bootstrap/modal","ui/bootstrap/tooltip","ui/bootstrap/popover","ui/bootstrap/progressbar","ui/bootstrap/rating","ui/bootstrap/tabs","ui/bootstrap/timepicker","ui/bootstrap/typeahead"]),angular.module("ui/bootstrap/tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/modal/base-window.html","template/modal/app-window.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui/bootstrap/transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==s.style[t])return e[t]}var i=function(r,s,o){o=o||{};var u=e.defer(),f=i[o.animation?"animationEndEventName":"transitionEndEventName"],l=function(){n.$apply(function(){r.unbind(f,l),u.resolve(r)})};return f&&r.bind(f,l),t(function(){angular.isString(s)?r.addClass(s):angular.isFunction(s)?s(r):angular.isObject(s)&&r.css(s),f||u.resolve(r)}),u.promise.cancel=function(){f&&r.unbind(f,l),u.reject("Transition cancelled")},u.promise},s=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(o),i.animationEndEventName=r(u),i}]),angular.module("ui/bootstrap/collapse",["ui/bootstrap/transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,r){function i(t){function r(){l===i&&(l=void 0)}var i=e(n,t);return l&&l.cancel(),l=i,i.then(r,r),i}function s(){c?(c=!1,o()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function u(){c?(c=!1,f(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(f))}function f(){n.removeClass("collapsing"),n.addClass("collapse")}var l,c=!0;t.$watch(r.collapse,function(e){e?u():s()})}}}]),angular.module("ui/bootstrap/accordion",["ui/bootstrap/collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.$watch("isOpen",function(t){t&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui/bootstrap/alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,i){e(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui/bootstrap/bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui/bootstrap/buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],s=r[1];s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){s.$setViewValue(r?null:e.$eval(n.btnRadio)),s.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function i(){return o(n.btnCheckboxTrue,!0)}function s(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var u=r[0],a=r[1];a.$render=function(){t.toggleClass(u.activeClass,angular.equals(a.$modelValue,i()))},t.bind(u.toggleEvent,function(){e.$apply(function(){a.$setViewValue(t.hasClass(u.activeClass)?s():i()),a.$render()})})}}}),angular.module("ui/bootstrap/carousel",["ui/bootstrap/transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,r){function i(){s();var t=+e.interval;!isNaN(t)&&t>0&&(u=n(o,t))}function s(){u&&(n.cancel(u),u=null)}function o(){var t=+e.interval;a&&!isNaN(t)&&t>0?e.next():e.pause()}var u,a,f=this,l=f.slides=e.slides=[],c=-1;f.currentSlide=null;var h=!1;f.select=e.select=function(n,s){function o(){h||(f.currentSlide&&angular.isString(s)&&!e.noTransition&&n.$element?(n.$element.addClass(s),n.$element[0].offsetWidth,angular.forEach(l,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:s,active:!0,entering:!0}),angular.extend(f.currentSlide||{},{direction:s,leaving:!0}),e.$currentTransition=r(n.$element,{}),function(t,n){e.$currentTransition.then(function(){u(t,n)},function(){u(t,n)})}(n,f.currentSlide)):u(n,f.currentSlide),f.currentSlide=n,c=a,i())}function u(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var a=l.indexOf(n);void 0===s&&(s=a>c?"next":"prev"),n&&n!==f.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(o)):o())},e.$on("$destroy",function(){h=!0}),f.indexOfSlide=function(e){return l.indexOf(e)},e.next=function(){var t=(c+1)%l.length;return e.$currentTransition?void 0:f.select(l[t],"next")},e.prev=function(){var t=0>c-1?l.length-1:c-1;return e.$currentTransition?void 0:f.select(l[t],"prev")},e.isActive=function(e){return f.currentSlide===e},e.$watch("interval",i),e.$on("$destroy",s),e.play=function(){a||(a=!0,i())},e.pause=function(){e.noPause||(a=!1,s())},f.addSlide=function(t,n){t.$element=n,l.push(t),1===l.length||t.active?(f.select(l[l.length-1]),1==l.length&&e.play()):t.active=!1},f.removeSlide=function(e){var t=l.indexOf(e);l.splice(t,1),l.length>0&&e.active?f.select(t>=l.length?l[t-1]:l[t]):c>t&&c--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}),angular.module("ui/bootstrap/dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],r=e.split("");return angular.forEach(i,function(t,i){var s=e.indexOf(i);if(s>-1){e=e.split(""),r[s]="("+t.regex+")",e[s]="$";for(var o=s+1,u=s+i.length;u>o;o++)r[o]="",e[o]="$";e=e.join(""),n.push({index:s,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(n,"index")}}function r(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,i){if(!angular.isString(t)||!i)return t;i=e.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var s=this.parsers[i],o=s.regex,u=s.map,f=t.match(o);if(f&&f.length){for(var l,h={year:1900,month:0,date:1,hours:0},p=1,v=f.length;v>p;p++){var m=u[p-1];m.apply&&m.apply.call(h,f[p])}return r(h.year,h.month,h.date)&&(l=new Date(h.year,h.month,h.date,h.hours)),l}}}]),angular.module("ui/bootstrap/position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},s=i(t[0]);s!=e[0]&&(r=this.offset(angular.element(s)),r.top+=s.clientTop-s.scrollTop,r.left+=s.clientLeft-s.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,s,o,u,a=n.split("-"),f=a[0],l=a[1]||"center";i=r?this.offset(e):this.position(e),s=t.prop("offsetWidth"),o=t.prop("offsetHeight");var c={center:function(){return i.left+i.width/2-s/2},left:function(){return i.left},right:function(){return i.left+i.width}},h={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(f){case"right":u={top:h[l](),left:c[f]()};break;case"left":u={top:h[l](),left:i.left-s};break;case"bottom":u={top:h[f](),left:c[l]()};break;default:u={top:i.top-o,left:c[l]()}}return u}}}]),angular.module("ui/bootstrap/datepicker",["ui/bootstrap/dateparser","ui/bootstrap/position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,r,i,s,o,u){var a=this,f={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){a[n]=angular.isDefined(t[n])?8>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):u[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){a[r]=e?new Date(e):null,a.refreshView()}):a[r]=u[r]?new Date(u[r]):null}),e.datepickerMode=e.datepickerMode||u.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===a.compare(t.date,a.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){f=e,f.$render=function(){a.render()}},this.render=function(){if(f.$modelValue){var e=new Date(f.$modelValue),t=!isNaN(e);t?this.activeDate=e:s.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),f.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=f.$modelValue?new Date(f.$modelValue):null;f.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=f.$modelValue?new Date(f.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===a.minMode){var n=f.$modelValue?new Date(f.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),f.$setViewValue(n),f.$render()}else a.activeDate=t,e.datepickerMode=a.modes[a.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=a.activeDate.getFullYear()+e*(a.step.years||0),n=a.activeDate.getMonth()+e*(a.step.months||0);a.activeDate.setFullYear(t,n,1),a.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===a.maxMode&&1===t||e.datepickerMode===a.minMode&&-1===t||(e.datepickerMode=a.modes[a.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var l=function(){i(function(){a.element[0].focus()},0,!1)};e.$on("datepicker.focus",l),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(a.isDisabled(a.activeDate))return;e.select(a.activeDate),l()}else!t.ctrlKey||"up"!==n&&"down"!==n?(a.handleKeyDown(n,t),a.refreshView()):(e.toggleMode("up"===n?1:-1),l())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],s=r[1];s&&i.init(s)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function s(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?f[t]:29}function o(e,t){var n=new Array(t),r=new Date(e),i=0;for(r.setHours(12);t>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function u(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var f=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),s=new Date(n,r,1),f=i.startingDay-s.getDay(),l=f>0?7-f:-f,c=new Date(s);l>0&&c.setDate(-l+1);for(var p=o(c,42),d=0;42>d;d++)p[d]=angular.extend(i.createDateObject(p[d],i.formatDay),{secondary:p[d].getMonth()!==r,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var v=0;7>v;v++)t.labels[v]={abbr:e(p[v].date,i.formatDayHeader),full:e(p[v].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(p,7),t.showWeeks){t.weekNumbers=[];for(var m=u(t.rows[0][0].date),y=t.rows.length;t.weekNumbers.push(m++)<y;);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(s(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=s(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),s=0;12>s;s++)n[s]=angular.extend(i.createDateObject(new Date(r,s,1),i.formatMonth),{uid:t.uniqueId+"-"+s});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/s,10)*s+1}var s=r.yearRange;r.step={years:s},r.element=t,r._refreshView=function(){for(var t=new Array(s),n=0,o=i(r.activeDate.getFullYear());s>n;n++)t[n]=angular.extend(r.createDateObject(new Date(o+n,0,1),r.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[s-1].label].join(" - "),e.rows=r.split(t,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e){var t=r.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=i(r.activeDate.getFullYear()):"end"===e&&(t=i(r.activeDate.getFullYear())+s-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,r,i,s,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(u,l,h,p){function v(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function m(e){if(e){if(angular.isDate(e)&&!isNaN(e))return p.$setValidity("date",!0),e;if(angular.isString(e)){var t=s.parse(e,y)||new Date(e);return isNaN(t)?void p.$setValidity("date",!1):(p.$setValidity("date",!0),t)}return void p.$setValidity("date",!1)}return p.$setValidity("date",!0),null}var y,w=angular.isDefined(h.closeOnDateSelection)?u.$parent.$eval(h.closeOnDateSelection):o.closeOnDateSelection,E=angular.isDefined(h.datepickerAppendToBody)?u.$parent.$eval(h.datepickerAppendToBody):o.appendToBody;u.showButtonBar=angular.isDefined(h.showButtonBar)?u.$parent.$eval(h.showButtonBar):o.showButtonBar,u.getText=function(e){return u[e+"Text"]||o[e+"Text"]},h.$observe("datepickerPopup",function(e){y=e||o.datepickerPopup,p.$render()});var S=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");S.attr({"ng-model":"date","ng-change":"dateSelection()"});var x=angular.element(S.children()[0]);h.datepickerOptions&&angular.forEach(u.$parent.$eval(h.datepickerOptions),function(e,t){x.attr(v(t),e)}),u.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(h[e]){var n=t(h[e]);if(u.$parent.$watch(n,function(t){u.watchData[e]=t}),x.attr(v(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;u.$watch("watchData."+e,function(e,t){e!==t&&r(u.$parent,e)})}}}),h.dateDisabled&&x.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),p.$parsers.unshift(m),u.dateSelection=function(e){angular.isDefined(e)&&(u.date=e),p.$setViewValue(u.date),p.$render(),w&&(u.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){u.$apply(function(){u.date=p.$modelValue})}),p.$render=function(){var e=p.$viewValue?i(p.$viewValue,y):"";l.val(e),u.date=m(p.$modelValue)};var T=function(e){u.isOpen&&e.target!==l[0]&&u.$apply(function(){u.isOpen=!1})},N=function(e){u.keydown(e)};l.bind("keydown",N),u.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),u.close()):40!==e.which||u.isOpen||(u.isOpen=!0)},u.$watch("isOpen",function(e){e?(u.$broadcast("datepicker.focus"),u.position=E?r.offset(l):r.position(l),u.position.top=u.position.top+l.prop("offsetHeight"),n.bind("click",T)):n.unbind("click",T)}),u.select=function(e){if("today"===e){var t=new Date;angular.isDate(p.$modelValue)?(e=new Date(p.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}u.dateSelection(e)},u.close=function(){u.isOpen=!1,l[0].focus()};var C=e(S)(u);S.remove(),E?n.find("body").append(C):l.after(C),u.$on("$destroy",function(){C.remove(),l.unbind("keydown",N),n.unbind("click",T)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui/bootstrap/dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",r)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",r))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},r=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,r,i,s){var o,u=this,a=e.$new(),f=r.openClass,l=angular.noop,c=t.onToggle?n(t.onToggle):angular.noop;this.init=function(r){u.$element=r,t.isOpen&&(o=n(t.isOpen),l=o.assign,e.$watch(o,function(e){a.isOpen=!!e}))},this.toggle=function(e){return a.isOpen=arguments.length?!!e:!a.isOpen},this.isOpen=function(){return a.isOpen},a.getToggleElement=function(){return u.toggleElement},a.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},a.$watch("isOpen",function(t,n){s[t?"addClass":"removeClass"](u.$element,f),t?(a.focusToggleElement(),i.open(a)):i.close(a),l(e,t),angular.isDefined(t)&&t!==n&&c(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){a.isOpen=!1}),e.$on("$destroy",function(){a.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui/bootstrap/modal",["ui/bootstrap/transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,r){t.backdropClass=r.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"=",width:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return!Fengs.get("ispc")&&!t.templateUrl?"template/modal/app-window.html":t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},n.width&&!!Fengs.get("ispc")&&r.find(".modal-dialog").width(n.width).css({"margin-left":"auto","margin-right":"auto"})}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,s){function o(){for(var e=-1,t=p.keys(),n=0;n<t.length;n++)p.get(t[n]).value.backdrop&&(e=n);return e}function u(e){var t=n.find("body").eq(0),r=p.get(e).value;p.remove(e),f(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),t.toggleClass(h,p.length()>0),a()})}function a(){if(l&&-1==o()){var e=c;f(l,c,150,function(){e.$destroy(),e=null}),l=void 0,c=void 0}}function f(n,r,i,s){function o(){o.done||(o.done=!0,n.remove(),s&&s())}r.animate=!1;var u=e.transitionEndEventName;if(u){var a=t(o,i);n.bind(u,function(){t.cancel(a),o(),r.$apply()})}else t(o)}var l,c,h="modal-open",p=s.createNew(),d={};return i.$watch(o,function(e){c&&(c.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=p.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){d.dismiss(t.key,"escape key press")})))}),d.open=function(e,t){p.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var s=n.find("body").eq(0),u=o();if(u>=0&&!l){c=i.$new(!0),c.index=u;var a=angular.element("<div modal-backdrop></div>");a.attr("backdrop-class",t.backdropClass),l=r(a)(c),s.append(l)}var f=angular.element("<div modal-window></div>");f.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:p.length()-1,width:t.width,animate:"animate"}).html(t.content);var d=r(f)(t.scope);p.top().value.modalDomEl=d,s.append(d),s.addClass(h)},d.close=function(e,t){var n=p.get(e);n&&(n.value.deferred.resolve(t),u(e))},d.dismiss=function(e,t){var n=p.get(e);n&&(n.value.deferred.reject(t),u(e))},d.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},d.getTop=function(){return p.top()},d}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,s,o,u){function f(e){return e.template?r.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:s}).then(function(e){return e.data})}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var i=r.defer(),s=r.defer(),c={result:i.promise,opened:s.promise,close:function(e){u.close(c,e)},dismiss:function(e){u.dismiss(c,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=r.all([f(t)].concat(l(t.resolve)));return h.then(function(e){var r=(t.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var s,a={},f=1;t.controller&&(a.$scope=r,a.$modalInstance=c,angular.forEach(t.resolve,function(t,n){a[n]=e[f++]}),s=o(t.controller,a),t.controllerAs&&(r[t.controllerAs]=s)),u.open(c,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,width:t.width,size:t.size,animate:t.animate})},function(e){i.reject(e)}),h.then(function(){s.resolve(!0)},function(){s.reject(!1)}),c},c}]};return e}),angular.module("ui/bootstrap/tooltip",["ui/bootstrap/position","ui/bootstrap/bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,s,o,u,f,l){return function(i,p,v){function m(e){var t=e||y.trigger||v,r=n[t]||t;return{show:t,hide:r}}var y=angular.extend({},t,r),w=e(i),E=l.startSymbol(),S=l.endSymbol(),x="<div "+w+'-popup title="'+E+"title"+S+'" content="'+E+"content"+S+'" placement="'+E+"placement"+S+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var e=s(x);return function(t,n,r){function s(){D.isOpen?c():l()}function l(){(!_||t.$eval(r[p+"Enable"]))&&(E(),D.popupDelay?A||(A=o(d,D.popupDelay,!1),A.then(function(e){e()})):d()())}function c(){t.$apply(function(){v()})}function d(){return A=null,L&&(o.cancel(L),L=null),D.content?(b(),N.css({top:0,left:0,display:"block"}),O?u.find("body").append(N):n.after(N),P(),D.isOpen=!0,D.$digest(),P):angular.noop}function v(){D.isOpen=!1,o.cancel(A),A=null,D.animation?L||(L=o(w,500)):w()}function b(){N&&w(),C=D.$new(),N=e(C,angular.noop)}function w(){L=null,N&&(N.remove(),N=null),C&&(C.$destroy(),C=null)}function E(){S(),x()}function S(){var e=r[p+"Placement"];D.placement=angular.isDefined(e)?e:y.placement}function x(){var e=r[p+"PopupDelay"],t=parseInt(e,10);D.popupDelay=isNaN(t)?y.popupDelay:t}function T(){var e=r[p+"Trigger"];H(),M=m(e),M.show===M.hide?n.bind(M.show,s):(n.bind(M.show,l),n.bind(M.hide,c))}var N,C,L,A,O=angular.isDefined(y.appendToBody)?y.appendToBody:!1,M=m(void 0),_=angular.isDefined(r[p+"Enable"]),D=t.$new(!0),P=function(){var e=f.positionElements(n,N,D.placement,O);e.top+="px",e.left+="px",N.css(e)};D.isOpen=!1,r.$observe(i,function(e){D.content=e,!e&&D.isOpen&&v()}),r.$observe(p+"Title",function(e){D.title=e});var H=function(){n.unbind(M.show,l),n.unbind(M.hide,c)};T();var B=t.$eval(r[p+"Animation"]);D.animation=angular.isDefined(B)?!!B:y.animation;var j=t.$eval(r[p+"AppendToBody"]);O=angular.isDefined(j)?j:O,O&&t.$on("$locationChangeSuccess",function(){D.isOpen&&v()}),t.$on("$destroy",function(){o.cancel(L),o.cancel(A),H(),w(),D=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui/bootstrap/popover",["ui/bootstrap/tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui/bootstrap/progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui/bootstrap/rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var s=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(s)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],s=r[1];s&&i.init(s)}}}),angular.module("ui/bootstrap/tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!r){var s=i==n.length-1?i-1:i+1;t.select(n[s])}n.splice(i,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(t,n,i,s){t.$watch("active",function(e){e&&s.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},s.addTab(t),t.$on("$destroy",function(){s.removeTab(t)}),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui/bootstrap/timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,s){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===v[1]&&(t+=12)),t):void 0}function u(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function a(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function f(e){l(),d.$setViewValue(new Date(p)),c(e)}function l(){d.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function c(t){var n=p.getHours(),r=p.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:a(n),e.minutes="m"===t?r:a(r),e.meridian=p.getHours()<12?v[0]:v[1]}function h(e){var t=new Date(p.getTime()+6e4*e);p.setHours(t.getHours(),t.getMinutes()),f()}var p=new Date,d={$setViewValue:angular.noop},v=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):s.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){d=n,d.$render=this.render;var i=r.eq(0),o=r.eq(1),u=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):s.mousewheel;u&&this.setupMousewheelEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):s.readonlyInput,this.setupInputEvents(i,o)};var m=s.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var g=s.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){g=parseInt(e,10)}),e.showMeridian=s.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,d.$error.time){var n=o(),r=u();angular.isDefined(n)&&angular.isDefined(r)&&(p.setHours(n),f())}else c()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void (e.updateMinutes=angular.noop);var r=function(t,n){d.$setViewValue(null),d.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(p.setHours(e),f("h")):r(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=a(e.hours)})}),e.updateMinutes=function(){var e=u();angular.isDefined(e)?(p.setMinutes(e),f("m")):r(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=a(e.minutes)})})},this.render=function(){var e=d.$modelValue?new Date(d.$modelValue):null;isNaN(e)?(d.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(p=e),l(),c())},e.incrementHours=function(){h(60*m)},e.decrementHours=function(){h(60*-m)},e.incrementMinutes=function(){h(g)},e.decrementMinutes=function(){h(-g)},e.toggleMeridian=function(){h(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],s=r[1];s&&i.init(s,t.find("input"))}}}),angular.module("ui/bootstrap/typeahead",["ui/bootstrap/position","ui/bootstrap/bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,s,o){var u=[9,13,27,38,40];return{require:"ngModel",link:function(l,p,v,m){var y,w=l.$eval(v.typeaheadMinLength)||1,E=l.$eval(v.typeaheadWaitMs)||0,S=l.$eval(v.typeaheadEditable)!==!1,x=t(v.typeaheadLoading).assign||angular.noop,T=t(v.typeaheadOnSelect),N=v.typeaheadInputFormatter?t(v.typeaheadInputFormatter):void 0,C=v.typeaheadAppendToBody?l.$eval(v.typeaheadAppendToBody):!1,k=l.$eval(v.typeaheadFocusFirst)!==!1,L=t(v.ngModel).assign,A=o.parse(v.typeahead),O=l.$new();l.$on("$destroy",function(){O.$destroy()});var M="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var _=angular.element("<div typeahead-popup></div>");_.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(v.typeaheadTemplateUrl)&&_.attr("template-url",v.typeaheadTemplateUrl);var D=function(){O.matches=[],O.activeIdx=-1,p.attr("aria-expanded",!1)},P=function(e){return M+"-option-"+e};O.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",P(e))});var H=function(e){var t={$viewValue:e};x(l,!0),n.when(A.source(l,t)).then(function(n){var r=e===m.$viewValue;if(r&&y)if(n.length>0){O.activeIdx=k?0:-1,O.matches.length=0;for(var i=0;i<n.length;i++)t[A.itemName]=n[i],O.matches.push({id:P(i),label:A.viewMapper(O,t),model:n[i]});O.query=e,O.position=C?s.offset(p):s.position(p),O.position.top=O.position.top+p.prop("offsetHeight"),p.attr("aria-expanded",!0)}else D();r&&x(l,!1)},function(){D(),x(l,!1)})};D(),O.query=void 0;var B,j=function(e){B=r(function(){H(e)},E)},F=function(){B&&r.cancel(B)};m.$parsers.unshift(function(e){return y=!0,e&&e.length>=w?E>0?(F(),j(e)):H(e):(x(l,!1),F(),D()),S?e:e?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),e)}),m.$formatters.push(function(e){var t,n,r={};return N?(r.$model=e,N(l,r)):(r[A.itemName]=e,t=A.viewMapper(l,r),r[A.itemName]=void 0,n=A.viewMapper(l,r),t!==n?t:e)}),O.select=function(e){var t,n,i={};i[A.itemName]=n=O.matches[e].model,t=A.modelMapper(l,i),L(l,t),m.$setValidity("editable",!0),T(l,{$item:n,$model:t,$label:A.viewMapper(l,i)}),D(),r(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){0!==O.matches.length&&-1!==u.indexOf(e.which)&&(-1!=O.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest()):38===e.which?(O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest()):13===e.which||9===e.which?O.$apply(function(){O.select(O.activeIdx)}):27===e.which&&(e.stopPropagation(),D(),O.$digest()))}),p.bind("blur",function(){y=!1});var I=function(e){p[0]!==e.target&&(D(),O.$digest())};i.bind("click",I),l.$on("$destroy",function(){i.unbind("click",I),C&&q.remove()});var q=e(_)(O);C?i.find("body").append(q):p.after(q)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,s,o){var u=r(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(u,{cache:t}).success(function(e){s.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n	<h4 class="panel-title">\n	  <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n	</h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	<div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n	<button ng-show="closeable" type="button" class="close" ng-click="close()">\n		<span aria-hidden="true">&times;</span>\n		<span class="sr-only">Close</span>\n	</button>\n	<div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n	<ol class="carousel-indicators" ng-show="slides.length > 1">\n		<li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n	</ol>\n	<div class="carousel-inner" ng-transclude></div>\n	<a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n	<a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n	'active': leaving || (active && !entering),\n	'prev': (next || active) && direction=='prev',\n	'next': (next || active) && direction=='next',\n	'right': direction=='prev',\n	'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n	<tr>\n	  <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n	  <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n	  <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n	</tr>\n	<tr>\n	  <th ng-show="showWeeks" class="text-center"></th>\n	  <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n	</tr>\n  </thead>\n  <tbody>\n	<tr ng-repeat="row in rows track by $index">\n	  <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n	  <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n		<button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n	  </td>\n	</tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n	<tr>\n	  <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n	  <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n	  <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n	</tr>\n  </thead>\n  <tbody>\n	<tr ng-repeat="row in rows track by $index">\n	  <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n		<button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n	  </td>\n	</tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n   <li ng-if="showButtonBar" style="padding:10px 9px 2px">\n	   <span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n	 </span>\n	   <button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n	<tr>\n	  <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n	  <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n	  <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n	</tr>\n  </thead>\n  <tbody>\n	<tr ng-repeat="row in rows track by $index">\n	  <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n		<button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n	  </td>\n	</tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop animated fadeIn" ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal animated fadeIn" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" >\n	<div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content animated flipInY" ng-class="{flipOutY: !animate}" modal-transclude></div></div>\n</div>')}]),angular.module("template/modal/base-window.html",[]).run(["$templateCache",function(e){e.put("template/modal/base-window.html",'<div tabindex="-1" role="dialog" class="modal animated fadeIn" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" >\n	<div class="modal-dialog modal-dialog-base" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-class="{fadeOut: !animate}" modal-transclude></div></div>\n</div>')}]),angular.module("template/modal/app-window.html",[]).run(["$templateCache",function(e){e.put("template/modal/app-window.html",'<div tabindex="-1" role="dialog" class="modal animated fadeIn" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" >\n	<div class="modal-dialog-app" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content animated quick slideInRight" ng-class="{slideOutRight: !animate}" modal-transclude></div></div>\n</div>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n	  <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n	  <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n	<i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n		<span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n	</i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n	<div class="tab-pane" \n		 ng-repeat="tab in tabs" \n		 ng-class="{active: tab.active}"\n		 tab-content-transclude="tab">\n	</div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n <tbody>\n	   <tr class="text-center">\n		  <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n<td>&nbsp;</td>\n		   <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n<td ng-show="showMeridian"></td>\n	  </tr>\n	 <tr>\n		  <td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n			  <input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n		 <td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n		 </td>\n		 <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n	   </tr>\n	 <tr class="text-center">\n		  <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n		   <td>&nbsp;</td>\n		   <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n		 <td ng-show="showMeridian"></td>\n	  </tr>\n </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n	<li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n		<div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n	</li>\n</ul>\n')}])